!function(t){var i=window.webpackHotUpdate;window.webpackHotUpdate=function(t,e){!function(t,i){if(!w[t]||!b[t])return;for(var e in b[t]=!1,i)Object.prototype.hasOwnProperty.call(i,e)&&(m[e]=i[e]);0==--g&&0===y&&j()}(t,e),i&&i(t,e)};var e,h=!0,s="705702db34c66b5ef453",n=1e4,o={},r=[],a=[];function u(t){var i=D[t];if(!i)return k;var h=function(h){return i.hot.active?(D[h]?-1===D[h].parents.indexOf(t)&&D[h].parents.push(t):(r=[t],e=h),-1===i.children.indexOf(h)&&i.children.push(h)):(console.warn("[HMR] unexpected require("+h+") from disposed module "+t),r=[]),k(h)},s=function(t){return{configurable:!0,enumerable:!0,get:function(){return k[t]},set:function(i){k[t]=i}}};for(var n in k)Object.prototype.hasOwnProperty.call(k,n)&&"e"!==n&&"t"!==n&&Object.defineProperty(h,n,s(n));return h.e=function(t){return"ready"===d&&p("prepare"),y++,k.e(t).then(i,function(t){throw i(),t});function i(){y--,"prepare"===d&&(v[t]||C(t),0===y&&0===g&&j())}},h.t=function(t,i){return 1&i&&(t=h(t)),k.t(t,-2&i)},h}function l(t){var i={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:e!==t,active:!0,accept:function(t,e){if(void 0===t)i._selfAccepted=!0;else if("function"==typeof t)i._selfAccepted=t;else if("object"==typeof t)for(var h=0;h<t.length;h++)i._acceptedDependencies[t[h]]=e||function(){};else i._acceptedDependencies[t]=e||function(){}},decline:function(t){if(void 0===t)i._selfDeclined=!0;else if("object"==typeof t)for(var e=0;e<t.length;e++)i._declinedDependencies[t[e]]=!0;else i._declinedDependencies[t]=!0},dispose:function(t){i._disposeHandlers.push(t)},addDisposeHandler:function(t){i._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=i._disposeHandlers.indexOf(t);e>=0&&i._disposeHandlers.splice(e,1)},check:P,apply:F,status:function(t){if(!t)return d;c.push(t)},addStatusHandler:function(t){c.push(t)},removeStatusHandler:function(t){var i=c.indexOf(t);i>=0&&c.splice(i,1)},data:o[t]};return e=void 0,i}var c=[],d="idle";function p(t){d=t;for(var i=0;i<c.length;i++)c[i].call(null,t)}var f,m,_,g=0,y=0,v={},b={},w={};function x(t){return+t+""===t?+t:t}function P(t){if("idle"!==d)throw new Error("check() is only allowed in idle status");return h=t,p("check"),(i=n,i=i||1e4,new Promise(function(t,e){if("undefined"==typeof XMLHttpRequest)return e(new Error("No browser support"));try{var h=new XMLHttpRequest,n=k.p+""+s+".hot-update.json";h.open("GET",n,!0),h.timeout=i,h.send(null)}catch(t){return e(t)}h.onreadystatechange=function(){if(4===h.readyState)if(0===h.status)e(new Error("Manifest request to "+n+" timed out."));else if(404===h.status)t();else if(200!==h.status&&304!==h.status)e(new Error("Manifest request to "+n+" failed."));else{try{var i=JSON.parse(h.responseText)}catch(t){return void e(t)}t(i)}}})).then(function(t){if(!t)return p("idle"),null;b={},v={},w=t.c,_=t.h,p("prepare");var i=new Promise(function(t,i){f={resolve:t,reject:i}});m={};return C(0),"prepare"===d&&0===y&&0===g&&j(),i});var i}function C(t){w[t]?(b[t]=!0,g++,function(t){var i=document.createElement("script");i.charset="utf-8",i.src=k.p+""+t+"."+s+".hot-update.js",document.head.appendChild(i)}(t)):v[t]=!0}function j(){p("ready");var t=f;if(f=null,t)if(h)Promise.resolve().then(function(){return F(h)}).then(function(i){t.resolve(i)},function(i){t.reject(i)});else{var i=[];for(var e in m)Object.prototype.hasOwnProperty.call(m,e)&&i.push(x(e));t.resolve(i)}}function F(i){if("ready"!==d)throw new Error("apply() is only allowed in ready status");var e,h,n,a,u;function l(t){for(var i=[t],e={},h=i.slice().map(function(t){return{chain:[t],id:t}});h.length>0;){var s=h.pop(),n=s.id,o=s.chain;if((a=D[n])&&!a.hot._selfAccepted){if(a.hot._selfDeclined)return{type:"self-declined",chain:o,moduleId:n};if(a.hot._main)return{type:"unaccepted",chain:o,moduleId:n};for(var r=0;r<a.parents.length;r++){var u=a.parents[r],l=D[u];if(l){if(l.hot._declinedDependencies[n])return{type:"declined",chain:o.concat([u]),moduleId:n,parentId:u};-1===i.indexOf(u)&&(l.hot._acceptedDependencies[n]?(e[u]||(e[u]=[]),c(e[u],[n])):(delete e[u],i.push(u),h.push({chain:o.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:t,outdatedModules:i,outdatedDependencies:e}}function c(t,i){for(var e=0;e<i.length;e++){var h=i[e];-1===t.indexOf(h)&&t.push(h)}}i=i||{};var f={},g=[],y={},v=function(){console.warn("[HMR] unexpected require("+P.moduleId+") to disposed module")};for(var b in m)if(Object.prototype.hasOwnProperty.call(m,b)){var P;u=x(b);var C=!1,j=!1,F=!1,S="";switch((P=m[b]?l(u):{type:"disposed",moduleId:b}).chain&&(S="\nUpdate propagation: "+P.chain.join(" -> ")),P.type){case"self-declined":i.onDeclined&&i.onDeclined(P),i.ignoreDeclined||(C=new Error("Aborted because of self decline: "+P.moduleId+S));break;case"declined":i.onDeclined&&i.onDeclined(P),i.ignoreDeclined||(C=new Error("Aborted because of declined dependency: "+P.moduleId+" in "+P.parentId+S));break;case"unaccepted":i.onUnaccepted&&i.onUnaccepted(P),i.ignoreUnaccepted||(C=new Error("Aborted because "+u+" is not accepted"+S));break;case"accepted":i.onAccepted&&i.onAccepted(P),j=!0;break;case"disposed":i.onDisposed&&i.onDisposed(P),F=!0;break;default:throw new Error("Unexception type "+P.type)}if(C)return p("abort"),Promise.reject(C);if(j)for(u in y[u]=m[u],c(g,P.outdatedModules),P.outdatedDependencies)Object.prototype.hasOwnProperty.call(P.outdatedDependencies,u)&&(f[u]||(f[u]=[]),c(f[u],P.outdatedDependencies[u]));F&&(c(g,[P.moduleId]),y[u]=v)}var O,A=[];for(h=0;h<g.length;h++)u=g[h],D[u]&&D[u].hot._selfAccepted&&A.push({module:u,errorHandler:D[u].hot._selfAccepted});p("dispose"),Object.keys(w).forEach(function(t){!1===w[t]&&function(t){delete installedChunks[t]}(t)});for(var B,M,T=g.slice();T.length>0;)if(u=T.pop(),a=D[u]){var E={},L=a.hot._disposeHandlers;for(n=0;n<L.length;n++)(e=L[n])(E);for(o[u]=E,a.hot.active=!1,delete D[u],delete f[u],n=0;n<a.children.length;n++){var H=D[a.children[n]];H&&((O=H.parents.indexOf(u))>=0&&H.parents.splice(O,1))}}for(u in f)if(Object.prototype.hasOwnProperty.call(f,u)&&(a=D[u]))for(M=f[u],n=0;n<M.length;n++)B=M[n],(O=a.children.indexOf(B))>=0&&a.children.splice(O,1);for(u in p("apply"),s=_,y)Object.prototype.hasOwnProperty.call(y,u)&&(t[u]=y[u]);var I=null;for(u in f)if(Object.prototype.hasOwnProperty.call(f,u)&&(a=D[u])){M=f[u];var z=[];for(h=0;h<M.length;h++)if(B=M[h],e=a.hot._acceptedDependencies[B]){if(-1!==z.indexOf(e))continue;z.push(e)}for(h=0;h<z.length;h++){e=z[h];try{e(M)}catch(t){i.onErrored&&i.onErrored({type:"accept-errored",moduleId:u,dependencyId:M[h],error:t}),i.ignoreErrored||I||(I=t)}}}for(h=0;h<A.length;h++){var R=A[h];u=R.module,r=[u];try{k(u)}catch(t){if("function"==typeof R.errorHandler)try{R.errorHandler(t)}catch(e){i.onErrored&&i.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:e,originalError:t}),i.ignoreErrored||I||(I=e),I||(I=t)}else i.onErrored&&i.onErrored({type:"self-accept-errored",moduleId:u,error:t}),i.ignoreErrored||I||(I=t)}}return I?(p("fail"),Promise.reject(I)):(p("idle"),new Promise(function(t){t(g)}))}var D={};function k(i){if(D[i])return D[i].exports;var e=D[i]={i:i,l:!1,exports:{},hot:l(i),parents:(a=r,r=[],a),children:[]};return t[i].call(e.exports,e,e.exports,u(i)),e.l=!0,e.exports}k.m=t,k.c=D,k.d=function(t,i,e){k.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},k.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},k.t=function(t,i){if(1&i&&(t=k(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(k.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var h in t)k.d(e,h,function(i){return t[i]}.bind(null,h));return e},k.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return k.d(i,"a",i),i},k.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},k.p="build/",k.h=function(){return s},u(6)(k.s=6)}([function(t,i,e){"use strict";function h(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function s(t,i){for(var e=0;e<i.length;e++){var h=i[e];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}function n(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}e.d(i,"a",function(){return r});var o=0,r=function(){function t(i){h(this,t),this.type="DCont";var e,s=this;this.div=document.createElement("div"),this.div.style.position="fixed",this.div.style.top="0px",this.div.style.left="0px",this.children=[],this._parent=void 0,this._scale=1,this._scaleBool=!1,this._activMouse=!0,this.uuid=o+"_"+Math.random(),o++,this.htmlBody=void 0,this.p=new u(this.dragBigXZ,0,0,1),this.dragBigXZ=function(){var t="scaleX("+s._scale+") scaleY("+s._scale+")";s.div.style.transform=t,s.parameter.worldPosition._x=s.position._x,s.parameter.worldPosition._y=s.position._y,s.parameter.worldPosition._scale=s.position._scale,s.div.style.left=s.parameter.worldPosition.x+"px",s.div.style.top=s.parameter.worldPosition.y+"px";for(var i=0;i<s.children.length;i++)s.children[i].dragBigXZ()},this.parameter=new a,this.position=new u(this.dragBigXZ,0,0,1),this.poisk=function(t,i,e){if(t[i]==e)return t;if(null!=t.parent){var h=this.poisk(t.parent,i,e);if(null!=h)return h}return null},this.testVisi=function(t){if(1==(e=this.parameter.visible)&&null!=this.poisk(this,"visible",!1)&&(e=!1),this.div.style.visibility=e?"visible ":"hidden",t)for(var i=0;i<this.children.length;i++)this.children[i].testVisi(t)},null!=i&&(null!=i.parameter?(i.add(this),this.activMouse=i.activMouse):(i.appendChild(this.div),this.htmlBody=i))}return n(t,[{key:"add",value:function(t){if(null==t)return null;for(var i=0;i<this.children.length;i++)this.children[i].uuid==t&&(remove(this.children[i]),i=0);this.children.push(t),this.div.appendChild(t.div),t.parent=this,t.testVisi()}},{key:"remove",value:function(t){if(null==t)return null;for(var i,e=0;e<this.children.length;e++)if(this.children[e].uuid==t.uuid)return(i=this.children.splice(e,1))[0].parent.div.removeChild(i[0].div),i[0].parent=void 0,i[0];return null}},{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"scale",set:function(t){this._scale!=t&&(this._scaleBool=!0,this._scale=t,this.dragBigXZ())},get:function(){return this._scale}},{key:"parent",set:function(t){this._parent=t,this.dragBigXZ()},get:function(){return this._parent}},{key:"alpha",set:function(t){this.parameter.alpha!=t&&(this.parameter.alpha=t,this.div.style.opacity=this.parameter.alpha)},get:function(){return this.parameter.alpha}},{key:"visible",set:function(t){this.parameter.visible!=t&&(this.parameter.visible=t,this.testVisi(!0))},get:function(){return this.parameter.visible}},{key:"activMouse",set:function(t){if(this._activMouse!=t){this._activMouse=t;for(var i=0;i<this.children.length;i++)this.children[i].activMouse=t}},get:function(){return this._activMouse}}]),t}(),a=function t(){h(this,t),this.worldPosition=new u(this.dragBigXZ,0,0,1),this.localPosition=new u(this.dragBigXZ,0,0,1),this.alpha=1,this.visible=!0},u=function(){function t(i,e,s,n){h(this,t),this.fun=i,this._x=e||0,this._y=s||0,this._scale=n||1}return n(t,[{key:"x",set:function(t){this._x!=t&&(this._x=t,this.fun&&this.fun())},get:function(){return this._x}},{key:"y",set:function(t){this._y!=t&&(this._y=t,this.fun&&this.fun())},get:function(){return this._y}},{key:"scale",set:function(t){this._scale!=t&&(this._scale=t,this.fun&&this.fun())},get:function(){return this._scale}}]),t}()},function(t,i,e){"use strict";e.d(i,"b",function(){return p}),e.d(i,"n",function(){return f}),e.d(i,"d",function(){return m}),e.d(i,"a",function(){return _}),e.d(i,"c",function(){return g}),e.d(i,"h",function(){return y}),e.d(i,"e",function(){return v}),e.d(i,"g",function(){return b}),e.d(i,"k",function(){return w}),e.d(i,"l",function(){return x}),e.d(i,"f",function(){return P}),e.d(i,"m",function(){return C}),e.d(i,"i",function(){return F}),e.d(i,"j",function(){return D});var h=e(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){for(var e=0;e<i.length;e++){var h=i[e];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}function r(t,i,e){return i&&o(t.prototype,i),e&&o(t,e),t}function a(t,i){return!i||"object"!==s(i)&&"function"!=typeof i?d(t):i}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&c(t,i)}function c(t,i){return(c=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(){this.type="DCM";var t=this;this.wh=32,this._color="#008CBA",this._color1="#ffffff",this._colorText="#ffffff",this._colorText1="#999999",this._fontSize=16,this._fontFamily="Arial, Helvetica, sans-serif",this._otstup=2,this.mobile=!1,this.array=[],this.add=function(t){this.array.push(t)};var i=document.createElement("style");i.type="text/css",document.getElementsByTagName("head")[0].appendChild(i);var e=document.createElement("style");e.type="text/css",document.getElementsByTagName("head")[0].appendChild(e),this.redragStiles=function(){var h=t.compToHexArray(t.hexDec(t._color),-20),s=t.compToHexArray(t.hexDec(t._color),-40),n="";n+="input[type=range] {",n+="-webkit-appearance: none; ",n+="width: 100%; ",n+="margin: 6.8px 0; ",n+="} ",n+="input[type=range]:focus { outline: none; }",n+="input[type=range]::-webkit-slider-thumb {",n+="box-shadow: 1px 1px 1px "+t.compToHexArray(t.hexDec(t._color),30)+", 0px 0px 1px "+h+"; ",n+="border: 1px solid "+s+"; ",n+="height: "+(this.wh/2+2*this._otstup)+"px; ",n+="width: "+(this.wh/2+2*this._otstup)+"px; ",n+="border-radius: 3px; ",n+="background: "+t._color+"; ",n+="cursor: pointer; ",n+="-webkit-appearance: none; ",n+="margin-top: -"+(this._otstup+1)+"px; ",n+="} ",n+="input[type='range']::-webkit-slider-runnable-track {",n+="border: 1px solid "+t.compToHexArray(t.hexDec(t._color1),-50)+"; ",n+="height: "+this.wh/2+"px; ",n+="background: "+t.compToHexArray(t.hexDec(t._color1),-20)+"; ",n+="} ",n+="input[type=range]:focus::-webkit-slider-runnable-track { background: "+t.compToHexArray(t.hexDec(t._color1),-30)+"; } ",n+="input[type=range]::-moz-range-thumb",n+="box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d; ",n+="cursor: ew-resize; ",n+="height: "+this.wh/2+"px; ",n+="width: "+this.wh/2+"px; ",n+="-webkit-appearance: none; ",n+="background: #ffadf2; ",n+="}",i.innerHTML=n;var o=.8*this.wh;n="",n+=".flipswitch { position: relative; background: white; width: "+2*o+"px; height: "+o+"px;",n+="-webkit-appearance: initial;  ",n+="outline: none;    ",n+="font-weight: bold;  cursor: pointer; background: "+t._color1+"; border: 1px solid "+t.compToHexArray(t.hexDec(t._color1),-40)+";}",n+=".flipswitch:after {  position: absolute;  top: 5%;  display: block;  line-height: 32px;  width: 45%;",n+=" height: 90%;   box-sizing: border-box;  ",n+="transition: all 0.3s ease-in 0s;  color: black;  border: #888 1px solid;  border-radius: 3px; }",n+=".flipswitch:after {  left: 2%;  content: ' ';background: "+t.compToHexArray(t.hexDec(t._color1),-20)+"; border: "+t.compToHexArray(t.hexDec(t._color1),-40)+" 1px solid; }",n+=".flipswitch:checked:after {  left: 53%;  content: ' '; background: "+t._color+"; border: "+t.compToHexArray(t.hexDec(t._color),-40)+" 1px solid; }",e.innerHTML=n},this.hexDec=function(t){var i=t.slice(1).match(/.{2}/g);return i[0]=parseInt(i[0],16),i[1]=parseInt(i[1],16),i[2]=parseInt(i[2],16),i},this.compToHexArray=function(t,i){if(null!=i)for(var e=0;e<t.length;e++)t[e]+=i,t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255);return"#"+this.compToHex(t[0])+this.compToHex(t[1])+this.compToHex(t[2])},this.isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.isMobile.Android()||t.isMobile.BlackBerry()||t.isMobile.iOS()||t.isMobile.Opera()||t.isMobile.Windows()}},null!=this.isMobile.any()&&(this.mobile=!0),this.compToHex=function(t){var i=t.toString(16);return 1==i.length?"0"+i:i},this.corectForBtn=function(t){var i=[];return i[0]=Math.floor(t/65536),i[1]=Math.floor(t/256)%256,i[2]=t%256,i},this.redragStiles(),this.parseColor=function(t){var i=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(t);return{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}},this.colorPolit="null",this.bmp=new j(2,2),this.getPolit=function(){if("null"!=this.colorPolit)return this.colorPolit;var t,i,e;for(this.canvas=document.createElement("canvas"),this.c2d=this.canvas.getContext("2d"),this.hue=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],["#FFFAFA","#FFFFFA","#FFFFFA","#FAFFFF","#FAFFFF","#FFFAFF","#FFFAFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],["#FFC2C2","#FFFFC2","#F9FFC2","#C2FFFF","#C2FFFF","#FFC2FF","#FFC2FF","#FFF1F1","#FFFFFF","#D1D1D1","#D1D1D1"],["#FF8A8A","#FFFF8A","#C1FF8A","#8AFFFF","#8AFFFF","#F18AFF","#FF8AFF","#FFB9B9","#FFFFFF","#999999","#999999"],["#FF5151","#FFFF51","#88FF51","#51FFF8","#51C8FF","#B851FF","#FF51FF","#FF8080","#FFFFFF","#606060","#606060"],["#FF1919","#FFFF19","#50FF19","#19FFC0","#1990FF","#8019FF","#FF19D0","#FF4848","#FFFFFF","#282828","#282828"],["#E10000","#E1CA00","#30E100","#00E193","#0069E1","#5A00E1","#E100A1","#E12929","#D2D2D2","#0D0D0D","#0D0D0D"],["#A80000","#A89700","#24A800","#00A86E","#004EA8","#4300A8","#A80078","#A81E1E","#9D9D9D","#090909","#090909"],["#700000","#706500","#187000","#007049","#003470","#2D0070","#700050","#701414","#686868","#060606","#060606"],["#380000","#383200","#0C3800","#003824","#001A38","#160038","#380028","#380A0A","#343434","#030303","#030303"],["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"]],this.wX=11,this.canvas.width=(this.hue[0].length-1)*this.wX,this.canvas.height=(this.hue.length-1)*this.wX,this._wColor,this._wColor1,this._hColor,this._hColor1,this._rr,this._gg,this._bb,this.colorA,this.colorB,t=0;t<this.hue.length-1;t++)for(i=0;i<this.hue[t].length-1;i++)for(this._wColor=this.parseColor(this.hue[t][i]),this._wColor1=this.parseColor(this.hue[t][i+1]),this._hColor=this.parseColor(this.hue[t+1][i]),this._hColor1=this.parseColor(this.hue[t+1][i+1]),e=0;e<this.wX;e++)this._rr=this._wColor.r+Math.round((this._wColor1.r-this._wColor.r)*(e/(this.wX-1))),this._gg=this._wColor.g+Math.round((this._wColor1.g-this._wColor.g)*(e/(this.wX-1))),this._bb=this._wColor.b+Math.round((this._wColor1.b-this._wColor.b)*(e/(this.wX-1))),this.colorA="rgb("+this._rr+","+this._gg+","+this._bb+")",this._rr=this._hColor.r+Math.round((this._hColor1.r-this._hColor.r)*(e/(this.wX-1))),this._gg=this._hColor.g+Math.round((this._hColor1.g-this._hColor.g)*(e/(this.wX-1))),this._bb=this._hColor.b+Math.round((this._hColor1.b-this._hColor.b)*(e/(this.wX-1))),this.colorB="rgb("+this._rr+","+this._gg+","+this._bb+")",this.grd=this.c2d.createLinearGradient(0,this.wX*t,0,this.wX*t+this.wX),this.grd.addColorStop(0,this.colorA),this.grd.addColorStop(1,this.colorB),this.c2d.fillStyle=this.grd,this.c2d.fillRect(i*this.wX+e,this.wX*t,1,this.wX);return this.bmp.width=Math.floor(this.canvas.width),this.bmp.height=Math.floor(this.canvas.height),this.bmp.setCanvas(this.canvas,this.c2d),this.colorPolit=this.canvas.toDataURL(),this.colorPolit}}Object.defineProperties(p.prototype,{color:{set:function(t){this._color=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].color&&(this.array[i].color=this._color);this.redragStiles()},get:function(){return this._color}},color1:{set:function(t){this._color1=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].color1&&(this.array[i].color1=this._color1);this.redragStiles()},get:function(){return this._color1}},colorText:{set:function(t){this._colorText=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].colorText&&(this.array[i].colorText=this._colorText)},get:function(){return this._colorText}},colorText1:{set:function(t){this._colorText1=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].colorText1&&(this.array[i].colorText1=this._colorText1)},get:function(){return this._colorText1}},fontSize:{set:function(t){this._fontSize=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].fontSize&&(this.array[i].fontSize=this._fontSize)},get:function(){return this._fontSize}},fontFamily:{set:function(t){this._fontFamily=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].fontFamily&&(this.array[i].fontFamily=this._fontFamily)},get:function(){return this._fontFamily}}});var f=function(t){function i(t,e,s,o,r){var l;n(this,i),(l=a(this,u(i).call(this))).type="DWindow",null==dcmParam&&(dcmParam=new p);var c=d(d(l));l.fun=r,l.x=e||0,l.y=s||0,null!=t&&null!=t.add&&t.add(d(d(l))),l._width=100,l._height=100,l._color=dcmParam._color,l._color1=dcmParam._color1,l._wh=dcmParam.wh,l._minimize=!1,l._hasMinimizeButton=!1,l._dragBool=!0,l._activMouse=!0,l._text="nullMMy",l.textPlus="",l.button=new _(d(d(l)),0,0," "),l.button.fun_mousedown=function(){0!=c._dragBool&&c.startDrag()},l.buttonMin=new _(d(d(l)),0,0," ",function(){c.minimize=!c.minimize,c.fun&&c.fun()}),l.panel=new y(d(d(l)),0,l._wh),l.content=new h.a(d(d(l))),l.content.y=l._wh,l.buttonMin.width=l._wh,l.buttonMin.visible=l._hasMinimizeButton,l.buttonMin.alpha=0;var f=dcmParam.compToHexArray(dcmParam.hexDec(l._color),-50);l.button.color=f,l.button.object.style.textAlign="left";var m=void 0;return l.mouseup=function(t){m=void 0,0==dcmParam.mobile?(document.removeEventListener("mousemove",c.mousemove),document.removeEventListener("mouseup",c.mouseup)):(document.removeEventListener("touchend",c.mouseup),document.removeEventListener("touchmove",c.mousemove))},l.mousemove=function(t){if(0==dcmParam.mobile){null==m&&(m={x:t.clientX,y:t.clientY,x1:c.x,y1:c.y});var i=m.x1+(t.clientX-m.x);c.x=i;i=m.y1+(t.clientY-m.y);c.y=i}else{null==m&&(m={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY,x1:c.x,y1:c.y});i=m.x1+(t.targetTouches[0].clientX-m.x);c.x=i;i=m.y1+(t.targetTouches[0].clientY-m.y);c.y=i}},l.startDrag=function(){0==dcmParam.mobile?(document.addEventListener("mousemove",c.mousemove),document.addEventListener("mouseup",c.mouseup)):(document.addEventListener("touchend",c.mouseup),document.addEventListener("touchmove",c.mousemove))},l._width--,l._height--,dcmParam.add(d(d(l))),l.width=l._width+1,l.height=l._height+1,l.text=o||"null",l.hasMinimizeButton=!0,l}return l(i,h["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.panel.width=t,this.button.width=t)},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.panel.height=this._height-this._wh)},get:function(){return this._height}},{key:"color",set:function(t){if(this._color!=t){this._color=t;var i=dcmParam.compToHexArray(dcmParam.hexDec(this._color),-50);this.button.color=i}},get:function(){return this._color}},{key:"text",set:function(t){this._text=t,this.button.text=this.textPlus+" "+t},get:function(){return this._text}},{key:"minimize",set:function(t){this._minimize!=t&&(this._minimize=t,1==this._hasMinimizeButton&&(1==this._minimize?this.textPlus="►  ":this.textPlus="▼  ",this.text=this._text),this.content.visible=!this._minimize,this.panel.visible=!this._minimize)},get:function(){return this._minimize}},{key:"hasMinimizeButton",set:function(t){this._hasMinimizeButton!=t&&(this._hasMinimizeButton=t,this.buttonMin.visible=this._hasMinimizeButton,1==t?1==this._minimize?this.textPlus="►  ":this.textPlus="▼  ":this.textPlus="",this.text=this._text)},get:function(){return this._hasMinimizeButton}},{key:"dragBool",set:function(t){this._dragBool!=t&&(this._dragBool=t,this.button.object.style.cursor=t?"pointer":"auto")},get:function(){return this._dragBool}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,this.button.activMouse=t)},get:function(){return this._activMouse}}]),i}(),m=function(t){function i(t,e,h,s,o){var r;n(this,i),(r=a(this,u(i).call(this))).type="DColor",null==dcmParam&&(dcmParam=new p),dcmParam.add(d(d(r)));var l=d(d(r));r.x=e||0,r.y=h||0,null!=t&&null!=t.add&&t.add(d(d(r))),r._color=s||"#ffffff",r.fun=o,r._text=void 0,r.fun_mousemove=void 0,r._width=100,r._otstup=dcmParam._otstup,r._height=dcmParam.wh,r._openBool=!1;var c,f=!0;r.panel=new y(d(d(r))),r.button=new _(d(d(r)),r._otstup,r._otstup," ",function(){0!=f&&0==l.openBool&&(l.openBool=!0)}),r.input=new P(d(d(r)),r._otstup,r._otstup,r._color,function(){l.color=this.value,l.fun&&l.fun()}),r.image=new v(d(d(r)),r._otstup,r._height,dcmParam.getPolit(),function(){}),r.label=void 0,r.image.visible=!1,r.panel.width=r._width,r.panel.height=r._height,r.button.width=r.button.height=r._height-2*r._otstup,r.input.width=r.input.height=r._height-2*r._otstup,r.button.color=r._color,r.getBigPar=function(t,i){return null==t.parent?t:(i.x+=t.x,i.y+=t.y,this.getBigPar(t.parent,i))};var m,g,b,w={x:0,y:0},x={x:0,y:0};return r.dragMenu=function(){this.image.visible=this._openBool,1==this._openBool?(w.x=this.x,w.y=this.y,x.x=this.x,x.y=this.y,b=l._color,this.panel.height=this._height+100+this._otstup,c=this.parent,this.getBigPar(this,x).add(this),this.x=x.x,this.y=x.y,document.addEventListener("mousedown",this.upBody)):(this.panel.height=this._height,c.add(this),this.x=w.x,this.y=w.y)},r.upBody=function(t){document.removeEventListener("mousedown",l.upBody),l.openBool=!1,f=!1,setTimeout(function(){f=!0},100)},r.image.image.addEventListener("mouseout",function(){l.color=b}),r.image.image.addEventListener("mousemove",function(t){(e=Math.round(t.layerX/l.image.width*dcmParam.bmp.width))>dcmParam.bmp.width&&(e=dcmParam.bmp.width),(h=Math.round(t.layerY/l.image.height*dcmParam.bmp.height))>dcmParam.bmp.height&&(h=dcmParam.bmp.height),m=dcmParam.bmp.getPixel(e,h),g=dcmParam.compToHexArray(m),l.color=g,l.fun_mousemove&&l.fun_mousemove()}),r.image.image.addEventListener("mousedown",function(t){b=g,l.color=g,l.openBool=!1,l.fun&&l.fun()}),r._width--,r.width=r._width+1,r}return l(i,h["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){if(this._width!=t){this._width=t,this.button.x=this._width-this._otstup-this.button._width,this.panel.width=this._width,this.image.width=this._width-2*this._otstup;var i=this.button.x-2*this._otstup;null==this.label?(this.input.width=this.button.x-2*this._otstup,this.input.x=this._otstup):(this.input.width=i/2,this.input.x=this._otstup+i/2)}},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t)},get:function(){return this._height}},{key:"color",set:function(t){this._color!=t&&(this._color=t,this._value=t,this.input.text=this._color,this.button.color=this._color)},get:function(){return this._color}},{key:"value",set:function(t){this._color!=t&&(this.color=t)},get:function(){return this._color}},{key:"text",set:function(t){this._text!=t&&(this._text=t,null==this.label&&(this.label=new b(this,this._otstup,13,this._text)),this.label.text=this._text,this._width--,this.width=this._width+1)},get:function(){return this._text}},{key:"openBool",set:function(t){this._openBool!=t&&(this._openBool=t,this.dragMenu())},get:function(){return this._openBool}}]),i}(),_=function(t){function i(t,e,h,s,o,r){var l;n(this,i),(l=a(this,u(i).call(this))).type="DButton",l.dcmParam=dcmParam,l.dcmParam.add(d(d(l)));var c=d(d(l));return l.x=e||0,l.y=h||0,l._text=s||"null",l.fun=o,l.fun_mouseover=void 0,l.fun_mouseout=void 0,l.fun_mousedown=void 0,l.funDownFile=void 0,l._width=100,l._height=dcmParam.wh,l._color=dcmParam._color,l._colorText=dcmParam._colorText,l._fontSize=dcmParam._fontSize,l._borderRadius=0,null!=t&&null!=t.add&&t.add(d(d(l))),l.object=document.createElement("input"),l.object.style.position="fixed",l.object.style.top="0px",l.object.style.left="0px",l.object.style.background=l._color,l.object.style.color=l._colorText,l.object.style.cursor="pointer",l.object.style.fontSize=l._fontSize+"px",l.object.style.border="1px solid "+dcmParam.compToHexArray(dcmParam.hexDec(c._color),-20),l.object.style.display="inline-block",l.object.style.fontFamily=dcmParam._fontFamily,l.object.style.borderRadius=l._borderRadius+"px",l.object.type="button",l.object.value=l._text,l.div.appendChild(l.object),l.object.style.width=l._width+"px",l.object.style.height=l._height+"px",l.object.onclick=function(){c.fun&&c.fun()},l.object.addEventListener("mouseover",function(){c.object.style.background=dcmParam.compToHexArray(dcmParam.hexDec(c._color),-10),c.fun_mouseover&&c.fun_mouseover()}),l.object.addEventListener("mouseout",function(){c.object.style.background=c._color,c.fun_mouseout&&c.fun_mouseout()}),c.mousedown=function(){if(null!=c.file)return c.file.value=null,c.file.click(),void(c.funDownFile&&c.funDownFile());c.fun_mousedown&&c.fun_mousedown()},0==dcmParam.mobile?l.object.addEventListener("mousedown",c.mousedown):l.object.addEventListener("touchstart",c.mousedown),l.image=void 0,l.reDrag=function(){if(this.object.style.width=this._width+"px",this.object.style.height=this._height+"px",null!=this.image){var t=this._height/this.image.picHeight;this.image.height=this.image.picHeight*t,this.image.width=this.image.picWidth*t}},l.file,l.startFile=function(t){null==this.file&&(this.file=document.createElement("input"),this.file.type="file",this.file.multiple=!0,t&&(this.file.accept=t),this.file.style.display="none",this.file.onchange=this.onchange)},l.result,l.files,l.onchange=function(t){if(0!=t.target.files.length){c.files=t.target.files;var i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=function(t){c.result=t.target.result,c.fun&&c.fun(c.result)}}},l._link="null",l.loadImeg=function(t){this._link=t,null==this.image&&(this.image=new v(this,0,0,null,function(){c.reDrag()}),this.image.div.style.pointerEvents="none"),this.image.link=this._link},null!=r&&l.loadImeg(r),l}return l(i,h["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.reDrag())},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.reDrag())},get:function(){return this._height}},{key:"fontSize",set:function(t){this._fontSize!=t&&(this._fontSize=t,this.object.style.fontSize=t+"px")},get:function(){return this._fontSize}},{key:"color",set:function(t){this._color!=t&&(this._color=t,this.object.style.background=this._color,this.object.style.border="1px solid "+dcmParam.compToHexArray(dcmParam.hexDec(this._color),-20))},get:function(){return this._color}},{key:"text",set:function(t){this._text!=t&&(this._text=t,this.object.value=this._text)},get:function(){return this._text}},{key:"colorText",set:function(t){this._colorText!=t&&(this._colorText=t,this.object.style.color=this._colorText)},get:function(){return this._colorText}},{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.object.style.borderRadius=this._borderRadius+"px",this.object.style.webkitBorderRadius=this._borderRadius+"px",this.object.style.mozBorderRadius=this._borderRadius+"px")},get:function(){return this._borderRadius}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,1==t?(this.alpha=1,this.object.style.pointerEvents=null):(this.alpha=.7,this.object.style.pointerEvents="none"))},get:function(){return this._activMouse}}]),i}(),g=function(t){function i(t,e,h,s,o){var r;n(this,i),(r=a(this,u(i).call(this))).type="DCheckBox",null==dcmParam&&(dcmParam=new p),dcmParam.add(d(d(r))),r.x=e||0,r.y=h||0;var l=d(d(r));return r._text=s||"null",r.fun=o,r.fun_mouseover=void 0,r.fun_mouseout=void 0,r.fun_mousedown=void 0,r._width=100,r._height=Math.round(2*dcmParam.wh/3+4),r._color=dcmParam._color,r._colorText=dcmParam._colorText,r._fontSize=dcmParam._fontSize,r._value=!1,null!=t&&null!=t.add&&t.add(d(d(r))),r.object=document.createElement("INPUT"),r.object.setAttribute("type","checkbox"),r.object.style.position="fixed",r.object.style.top="-4px",r.object.style.left="-4px",r.object.className="flipswitch",r.div.appendChild(r.object),r.label=new b(d(d(r)),0,0,r._text),r.label.x=2*r._height+4,r.label.y=9,r.label.width=r.label.x+10*r._text.length,r.label.div.style.cursor="pointer",r.object.style.cursor="pointer",r.label.div.onclick=function(){l.value=!l._value,l.fun&&l.fun()},r.object.onclick=function(){l.value=l.object.checked,l.fun&&l.fun()},r}return l(i,h["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t)},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t)},get:function(){return this._height}},{key:"fontSize",set:function(t){this._fontSize!=t&&(this._fontSize=t)},get:function(){return this._fontSize}},{key:"value",set:function(t){this._value!=t&&(this._value=t,this.object.checked=this._value)},get:function(){return this._value}},{key:"text",set:function(t){this._text!=t&&(this._text=t,this.label.text=this._text,this.label.width=10*this._text.length)},get:function(){return this._text}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,1==t?(this.alpha=1,this.object.style.pointerEvents=null):(this.alpha=.7,this.object.style.pointerEvents="none"))},get:function(){return this._activMouse}}]),i}(),y=function(t){function i(t,e,s){var o;n(this,i),(o=a(this,u(i).call(this))).type="DPanel",null==dcmParam&&(dcmParam=new p),dcmParam.add(d(d(o))),o.x=e||0,o.y=s||0,null!=t&&null!=t.add&&t.add(d(d(o))),o._width=100,o._height=100,o._color1=dcmParam._color1,o.div.style.background=o._color1;var r=dcmParam.compToHexArray(dcmParam.hexDec(o._color1),-20);return o.div.style.border="1px solid "+r,o.div.style.width=o._width-2+"px",o.div.style.height=o._height-2+"px",o.content=new h.a(d(d(o))),o.content.y=o._wh,o}return l(i,h["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.div.style.width=this._width-2+"px")},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.div.style.height=this._height-2+"px")},get:function(){return this._height}},{key:"color1",set:function(t){if(this._color1!=t){this._color1=t,this.div.style.background=this._color1;var i=dcmParam.compToHexArray(dcmParam.hexDec(this._color1),-20);this.div.style.border="1px solid "+i}},get:function(){return this._color1}},{key:"activMouse",set:function(t){if(this._activMouse!=t){this._activMouse=t,this.div.style.pointerEvents=1==t?null:"none";for(var i=0;i<this.children.length;i++)this.children[i].activMouse=t}},get:function(){return this._activMouse}}]),i}(),v=function(t){function i(t,e,h,s,o){var r;n(this,i),(r=a(this,u(i).call(this))).type="DImage",null==dcmParam&&(dcmParam=new p),dcmParam.add(d(d(r)));var l=d(d(r));return r.x=e||0,r.y=h||0,null!=t&&null!=t.add&&t.add(d(d(r))),r._width=100,r._height=100,r.picWidth=100,r.picHeight=100,r.funError=null,r._link=null,r.fun=o,r._s=1,r.div2=document.createElement("div"),r.div2.style.position="fixed",r.div2.style.top="0px",r.div2.style.left="0px",r.div.appendChild(r.div2),r.image=new Image,r.div2.appendChild(r.image),r.image.ondragstart=function(){return!1},r.loadError=function(){l.funError&&l.funError()},r.loadComplit=function(t){l.picWidth=this.naturalWidth,l.picHeight=this.naturalHeight,l._width++,l._height++,l.width=l._width-1,l.height=l._height-1,l.fun&&l.fun()},r.load=function(){l.image.onerror=l.loadError,l.image.crossOrigin="",this.image.onload=l.loadComplit,l.image.src=l._link,l.image.crossOrigin=""},s&&(r.link=s),r}return l(i,h["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.image.width=this._width)},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.image.height=this._height)},get:function(){return this._height}},{key:"link",set:function(t){this._link!=t&&(this._link=t,this.load())},get:function(){return this._link}}]),i}(),b=function(t){function i(t,e,h,s){var o;n(this,i),(o=a(this,u(i).call(this))).type="DLabel",null==dcmParam&&(dcmParam=new p),dcmParam.add(d(d(o)));d(d(o));return o.x=e||0,o.y=h||0,null!=t&&null!=t.add&&t.add(d(d(o))),o._width=100,o._height=dcmParam._fontSize,o._fontSize=dcmParam._fontSize,o._colorText1=dcmParam._colorText1,o._bold=!1,o._text=s||"",o.div.textContent=o._text,o.div.style.width=o._width+"px",o.div.style.fontSize=o._fontSize+"px",o.div.style.color=o._colorText1,o.div.style.fontFamily=dcmParam._fontFamily,o}return l(i,h["a"]),r(i,[{key:"bold",set:function(t){this._bold=t,1==this._bold?this.div.style.fontWeight="bold":this.div.style.fontWeight="normal"},get:function(){return this._bold}},{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.div.style.width=this._width+"px")},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t)},get:function(){return this._height}},{key:"fontSize",set:function(t){this._fontSize!=t&&(this._fontSize=t,this.div.style.fontSize=this._fontSize+"px")},get:function(){return this._fontSize}},{key:"colorText1",set:function(t){this._colorText1!=t&&(this._colorText1=t,this.div.style.color=this._colorText1)},get:function(){return this._colorText1}},{key:"text",set:function(t){this._text!=t&&(this._text=t,this.div.textContent=this._text)},get:function(){return this._text}}]),i}(),w=function(t){function i(t,e,h,s){var o;n(this,i),(o=a(this,u(i).call(this))).type="DSlider",null==dcmParam&&(dcmParam=new p),dcmParam.add(d(d(o)));var r=d(d(o));return o.x=e||0,o.y=h||0,null!=t&&null!=t.add&&t.add(d(d(o))),o._width=100,o._height=dcmParam.wh/2+4,o.fun=s,o.funChange=void 0,o._min=0,o._max=100,o._value=0,o._okrug=100,o.mm=1e22,o.object=document.createElement("INPUT"),o.object.setAttribute("type","range"),o.object.style.position="fixed",o.object.style.top="-5px",o.object.style.left="0px",o.div.appendChild(o.object),o.object.max=o.mm,o.object.addEventListener("input",function(t){var i=t.target.value/r.mm*(r._max-r._min)+r._min;i=Math.round(i*r._okrug)/r._okrug,r._value=i,r.value=i,r.fun&&r.fun()}),o.object.addEventListener("change",function(t){var i=t.target.value/r.mm*(r._max-r._min)+r._min;i=Math.round(i*r._okrug)/r._okrug,r._value=i,r.value=i,r.funChange&&r.funChange()}),o._width++,o.width=o._width-1,o}return l(i,h["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.object.style.width=this._width+"px")},get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"value",set:function(t){this._value=t,this.object.value=(this._value-this._min)/(this._max-this._min)*this.mm},get:function(){return this._value}},{key:"okrug",set:function(t){this._okrug=t},get:function(){return this._okrug}},{key:"min",set:function(t){this._min!=t&&(this._min=t,this.object.value=(this._value-this._min)/(this._max-this._min)*this.mm)},get:function(){return this._min}},{key:"max",set:function(t){this._max!=t&&(this._max=t,this.object.value=(this._value-this._min)/(this._max-this._min)*this.mm)},get:function(){return this._max}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,1==t?(this.alpha=1,this.object.style.pointerEvents=null):(this.alpha=.7,this.object.style.pointerEvents="none"))},get:function(){return this._activMouse}}]),i}(),x=function(t){function i(t,e,h,s,o,r,l){var c;n(this,i),(c=a(this,u(i).call(this))).type="DSliderBig",null==dcmParam&&(dcmParam=new p),dcmParam.add(d(d(c)));var f=d(d(c));return c.x=e||0,c.y=h||0,null!=t&&null!=t.add&&t.add(d(d(c))),c._width=100,c._height=dcmParam.wh+12,c.fun=s,c.funChange=void 0,c._min=-0x20b8c0368bce7800,c._max=0x31828c105ff2d000,c._value=0,c._okrug=100,c._text=o||"null",c.input=new P(d(d(c)),0,0,"0",function(){var t=this.text-1+1;f.value=t,f.fun&&f.fun(),f.funChange&&f.funChange()}),c.slider=new w(d(d(c)),0,0,function(){f.value=this.value,f.fun&&f.fun()}),c.slider.funChange=function(){f.funChange&&f.funChange()},c.slider.y=dcmParam.wh/2-2,c.label=new b(d(d(c)),0,0,c._text),c.label.fontSize=2*c.label.fontSize/3,c.label1=new b(d(d(c)),0,0,c._min+""),c.label1.fontSize=2*c.label.fontSize/3,c.label1.y=37,c.label2=new b(d(d(c)),0,0,c._max+""),c.label2.fontSize=2*c.label.fontSize/3,c.label2.y=37,c._width++,c.width=c._width-1,c.min=r||0,c.max=l||100,c}return l(i,h["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.slider.width=.7*(this._width-dcmParam._otstup),this.input.width=.3*(this._width-dcmParam._otstup),this.input.x=this.slider.width+dcmParam._otstup,this.label2.x=this.input.x-4*this.label2.text.length)},get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"value",set:function(t){this._value=t,this._value>this._max&&(this._value=this._max),this._value<this._min&&(this._value=this._min),this.input.text=""+this._value,this.slider.value=this._value},get:function(){return this._value}},{key:"okrug",set:function(t){this._okrug=t,this.slider.okrug=this._okrug},get:function(){return this._okrug}},{key:"min",set:function(t){this._min!=t&&(this._min=t,this.label1.text=this._min+"",this.slider.min=this._min)},get:function(){return this._min}},{key:"max",set:function(t){this._max!=t&&(this._max=t,this.label2.text=this._max+"",this.slider.max=this._max,this.label2.x=this.input.x-4*this.label2.text.length)},get:function(){return this._max}},{key:"text",set:function(t){this._text!=t&&(this._text=t,this.label.text=this._text)},get:function(){return this._text}}]),i}(),P=function(t){function i(t,e,h,o,r){var l;n(this,i),(l=a(this,u(i).call(this))).type="DInput",null==dcmParam&&(dcmParam=new p),dcmParam.add(d(d(l)));var c=d(d(l));null!=t&&null!=t.add&&t.add(d(d(l))),l._width=100,l._height=dcmParam.wh,l.fun=r,l._text=o||"null",l._value=l._text;var f,m,_=null;return l._activMouse=!0,l._okrug=0,l._color1=dcmParam._color1,l._colorText1=dcmParam._colorText1,l._fontFamily=dcmParam._fontFamily,l._fontSize=dcmParam._fontSize,l.object=document.createElement("input"),l.object.type="text",l.object.value=l._text,l.object.style.backgroundColor=l._color1,l.object.style.color=l._colorText1,l.object.style.border="1px solid "+dcmParam.compToHexArray(dcmParam.hexDec(l._color1),-50),l.object.style.fontFamily=l._fontFamily,l.object.style.textAlign="center",l.object.style.fontSize=l._fontSize+"px",l.object.oninput=function(){clearTimeout(_),_=setTimeout(c.funTimeOut,1e3)},l.funTimeOut=function(){c.dragInput(c.object.value)},l.dragInput=function(t){var i=t;0!=c._okrug&&(i*=1,trace(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> "+s(i)),"number"!=typeof i&&(i=0),1==isNaN(i)&&(i=0),i=Math.round(i*(1/c._okrug))/(1/c._okrug)),c._text=i,c._value=i,c.object.value=c._text,c.fun&&c.fun()},l.mouseup=function(t){f=void 0,0==dcmParam.mobile?(document.removeEventListener("mousemove",c.mousemove),document.removeEventListener("mouseup",c.mouseup)):(document.removeEventListener("touchend",c.mouseup),document.removeEventListener("touchmove",c.mousemove))},l.mousemove=function(t){if(0==dcmParam.mobile){null==f&&(f={x:t.clientX,y:t.clientY,value:c.value,b:!1});var i=t.clientY-f.y}else null==f&&(f={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY,value:c.value}),i=t.targetTouches[0].clientY-f.y;Math.abs(i)>20&&("number"!=typeof f.value&&(f.value=0),1==isNaN(f.value)&&(f.value=0),f.b=!0),1==f.b&&(m=f.value+i*c.okrug,c.dragInput(m))},l.mousedown=function(t){0==dcmParam.mobile?(document.addEventListener("mousemove",c.mousemove),document.addEventListener("mouseup",c.mouseup)):(document.addEventListener("touchend",c.mouseup),document.addEventListener("touchmove",c.mousemove))},l.setNum=function(t){this.okrug=t,0==dcmParam.mobile?this.object.addEventListener("mousedown",c.mousedown):this.object.addEventListener("touchstart",c.mousedown)},l.object.style.width=l._width-2+"px",l.object.style.height=l._height-4+"px",l.div.appendChild(l.object),l.x=e||0,l.y=h||0,l}return l(i,h["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.object.style.width=this._width-2+"px")},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.object.style.height=this._height-4+"px")},get:function(){return this._height}},{key:"value",set:function(t){this._value=t,this._text=t,trace(this._text),this.object.value=this._text},get:function(){return this._value}},{key:"text",set:function(t){this._text=t,this._value=t,this.object.value=this._text},get:function(){return this._text}},{key:"color1",set:function(t){this._color1!=t&&(this._color1=t,this.object.style.backgroundColor=this._color1,this.object.style.border="1px solid "+dcmParam.compToHexArray(dcmParam.hexDec(this._color1),-50))},get:function(){return this._text}},{key:"colorText1",set:function(t){this._colorText1!=t&&(this._colorText1=t,this.object.style.color=this._colorText1)},get:function(){return this._colorText1}},{key:"fontFamily",set:function(t){this._fontFamily!=t&&(this._fontFamily=t,this.object.style.fontFamily=this._fontFamily)},get:function(){return this._fontFamily}},{key:"fontSize",set:function(t){this._fontSize!=t&&(this._fontSize=t,this.object.style.fontSize=this._fontSize+"px")},get:function(){return this._fontSize}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,1==t?(this.alpha=1,this.object.style.pointerEvents=null):(this.alpha=.7,this.object.style.pointerEvents="none"))},get:function(){return this._activMouse}}]),i}(),C=function(t){function i(t,e,h,s,o){var r;n(this,i),(r=a(this,u(i).call(this))).type="DTextArea",null==dcmParam&&(dcmParam=new p),dcmParam.add(d(d(r)));var l=d(d(r)),c=null;return null!=t&&null!=t.add&&t.add(d(d(r))),r._width=100,r._height=100,r.fun=o,r._text=s||"null",r._value=r._text,r._color1=dcmParam._color1,r._colorText1=dcmParam._colorText1,r._fontFamily=dcmParam._fontFamily,r._fontSize=dcmParam._fontSize,r.object=document.createElement("textarea"),r.object.value=r._text,r.object.style.backgroundColor=r._color1,r.object.style.color=r._colorText1,r.object.style.border="1px solid "+dcmParam.compToHexArray(dcmParam.hexDec(r._color1),-50),r.object.style.fontFamily=r._fontFamily,r.object.style.textAlign="center",r.object.style.fontSize=r._fontSize+"px",r.object.style.width=r._width-6+"px",r.object.style.height=r._height-6+"px",r.object.oninput=function(){clearTimeout(c),c=setTimeout(l.funTimeOut,1e3)},r.funTimeOut=function(){l.dragInput(l.object.value)},r.dragInput=function(t){var i=t;l._text=i,l._value=i,l.object.value=l._text,l.fun&&l.fun()},r.div.appendChild(r.object),r.x=e||0,r.y=h||0,r}return l(i,h["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.object.style.width=this._width-6+"px")},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.object.style.height=this._height-6+"px")},get:function(){return this._height}},{key:"value",set:function(t){this._value=t,this._text=t,this.object.value=this._text},get:function(){return this._value}},{key:"text",set:function(t){this._text=t,this._value=t,this.object.value=this._text},get:function(){return this._text}},{key:"color1",set:function(t){this._color1!=t&&(this._color1=t,this.object.style.backgroundColor=this._color1,this.object.style.border="1px solid "+dcmParam.compToHexArray(dcmParam.hexDec(this._color1),-50))},get:function(){return this._text}},{key:"colorText1",set:function(t){this._colorText1!=t&&(this._colorText1=t,this.object.style.color=this._colorText1)},get:function(){return this._colorText1}},{key:"fontFamily",set:function(t){this._fontFamily!=t&&(this._fontFamily=t,this.object.style.fontFamily=this._fontFamily)},get:function(){return this._fontFamily}},{key:"fontSize",set:function(t){this._fontSize!=t&&(this._fontSize=t,this.object.style.fontSize=this._fontSize+"px")},get:function(){return this._fontSize}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,1==t?(this.alpha=1,this.object.style.pointerEvents=null):(this.alpha=.7,this.object.style.pointerEvents="none"))},get:function(){return this._activMouse}}]),i}();function j(t,i,e,h){var s=this;this.type="PLBitmapData",this.fun=h,this._width=null!=t?t:100,this._height=null!=i?i:100,this._color=null!=e?e:[0,0,0,0],this._widthVisi=100,this._heightVisi=100,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.load=function(t,i){var e=new Image;e.crossOrigin="Anonymous",e.onload=function(){i&&s.clear(),s.width=e.width,s.height=e.height,s.ctx.drawImage(e,0,0),s.imgData=s.ctx.getImageData(0,0,s.width,s.height),s.fun&&s.fun()},e.src=t},this.setCanvas=function(t,i){s.canvas=t,s.ctx=i,s.imgData=s.ctx.getImageData(0,0,s.canvas.width,s.canvas.height),s.upDate()},this.setImage=function(t){this._width=t.width,this._height=t.height,this.canvas.width=this._width,this.canvas.height=this._height,this.ctx.clearRect(0,0,this._width,this._width),this.ctx.drawImage(t,0,0),this.imgData=this.ctx.getImageData(0,0,t.width,t.height)},this.setImage2=function(t,i){this._width=t.width,this._height=t.height,this.canvas.width=this._width*i,this.canvas.height=this._height*i,this.ctx.clearRect(0,0,this._width,this._width),this.ctx.drawImage(t,0,0,this._width,this._height,0,0,this._width*i,this._height*i),this.imgData=this.ctx.getImageData(0,0,t.width,t.height)},this.getData=function(){return this.canvas.toDataURL()},this.arrRgba=[0,0,0,0],this.getPixel=function(t,i){return this.arrRgba[0]=this.imgData.data[4*(i*this.imgData.width+t)+0],this.arrRgba[1]=this.imgData.data[4*(i*this.imgData.width+t)+1],this.arrRgba[2]=this.imgData.data[4*(i*this.imgData.width+t)+2],this.arrRgba[3]=this.imgData.data[4*(i*this.imgData.width+t)+3],this.arrRgba[0]=this.arrRgba[0]?this.arrRgba[0]:0,this.arrRgba[1]=this.arrRgba[1]?this.arrRgba[1]:0,this.arrRgba[2]=this.arrRgba[2]?this.arrRgba[2]:0,this.arrRgba[3]=this.arrRgba[3]?this.arrRgba[3]:0,this.arrRgba},this.getAlphaPixel=function(t,i){return this.getPixel(t,i)[3]},this.setPixelDin=function(t,i,e){var h=this.ctx.createImageData(1,1);h.data[0]=e[0],h.data[1]=e[1],h.data[2]=e[2],h.data[3]=e[3],this.ctx.putImageData(h,t,i)},this.setPixel=function(t,i,e){this.imgData.data[4*(i*this.imgData.width+t)+0]=e[0],this.imgData.data[4*(i*this.imgData.width+t)+1]=e[1],this.imgData.data[4*(i*this.imgData.width+t)+2]=e[2],this.imgData.data[4*(i*this.imgData.width+t)+3]=e[3]},this.addPixel=function(t,i,e){this.setPixel(t,i,this.blendColors(this.getPixel(t,i),e))},this.addImgData=function(t,i,e,h,s,n,o,r,a){for(var u={imgData:t,arrRgba:[]},l=0,c=0,d=i;d<h;d++){for(var p=e;p<s;p++){var f=this.getPixel.call(u,d,p);this.addPixel(n+l,o+c,f),c++}c=0,l++}},this.addBitmapData=function(t,i,e,h,s,n,o,r,a){1==arguments.length?(i=e=0,h=t.imgData.width,s=t.imgData.height,n=o=0):3==arguments.length?(n=i,o=e,i=e=0,h=t.imgData.width,s=t.imgData.height):9==arguments.length?console.warn("todo dWidth, dHeight"):console.error("не правильные аргументы",arguments.length),this.addImgData(t.imgData,i,e,h,s,n,o)},this.upDate=function(){this.ctx.putImageData(this.imgData,0,0)},this.changeWH=function(t,i){var e=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height);this.canvas.width=null!=t?t:this._width,this.canvas.height=null!=i?i:this._height,this.clear(),this.ctx.putImageData(e,0,0),this.imgData=this.ctx.getImageData(0,0,this._width,this._height),this.widthVisi=this._widthVisi,this.heightVisi=this._heightVisi},this.setColor=function(t){t||(t=this._color),this.ctx.fillStyle="rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]/255+")"},this.setPixelTempData=function(t,i,e){this.tempData.data[4*(i*this.tempWidth+t)+0]=e[0],this.tempData.data[4*(i*this.tempWidth+t)+1]=e[1],this.tempData.data[4*(i*this.tempWidth+t)+2]=e[2],this.tempData.data[4*(i*this.tempWidth+t)+3]=e[3]},this.tempData=[],this.tempWidth=100;var n,o,r=1,a=1;this.compress=function(t,i,e){t=Math.round(t),i=Math.round(i),t>this._width&&(t=this._width),i>this._height&&(i=this._height),r=this._width/t,a=this._height/i,r-=r%1,a-=a%1,this.tempWidth=t,this.tempData=this.ctx.createImageData(t,i),n=(this._width+2)/t,o=(this._height+2)/i;for(var h=0;h<t;h++)for(var s=0;s<i;s++)this.setPixelTempData(h,s,this.getPixelMerge(Math.round(h*n),Math.round(s*o)));this.width=t,this.height=i,this.imgData=this.tempData,this.upDate(),e&&e(this)},this.getPixelMerge=function(t,i){var e=this.getPixel(t,i);this.tempPixel[0]=e[0],this.tempPixel[1]=e[1],this.tempPixel[2]=e[2],this.tempPixel[3]=e[3];for(var h,s=1,n=1,o=0;o<r;o++)t+(o+1)<this._width?(h=this.getPixel(t+(o+1),i),this.tempPixel[0]+=h[0]*n,this.tempPixel[1]+=h[1]*n,this.tempPixel[2]+=h[2]*n,this.tempPixel[3]+=h[3]*n,s++):(this.tempPixel[0]+=e[0]*n,this.tempPixel[1]+=e[1]*n,this.tempPixel[2]+=e[2]*n,this.tempPixel[3]+=e[3]*n,s++),t-(o+1)>0?(h=this.getPixel(t-(o+1),i),this.tempPixel[0]+=h[0]*n,this.tempPixel[1]+=h[1]*n,this.tempPixel[2]+=h[2]*n,this.tempPixel[3]+=h[3]*n,s++):(this.tempPixel[0]+=e[0]*n,this.tempPixel[1]+=e[1]*n,this.tempPixel[2]+=e[2]*n,this.tempPixel[3]+=e[3]*n,s++);n=1;for(var u=0;u<a;u++)i+(u+1)<this._height?(h=this.getPixel(t,i+(u+1)),this.tempPixel[0]+=h[0]*n,this.tempPixel[1]+=h[1]*n,this.tempPixel[2]+=h[2]*n,this.tempPixel[3]+=h[3]*n,s++):(this.tempPixel[0]+=e[0]*n,this.tempPixel[1]+=e[1]*n,this.tempPixel[2]+=e[2]*n,this.tempPixel[3]+=e[3]*n,s++),i-(u+1)>0?(h=this.getPixel(t,i-(u+1)),this.tempPixel[0]+=h[0]*n,this.tempPixel[1]+=h[1]*n,this.tempPixel[2]+=h[2]*n,this.tempPixel[3]+=h[3]*n,s++):(this.tempPixel[0]+=e[0]*n,this.tempPixel[1]+=e[1]*n,this.tempPixel[2]+=e[2]*n,this.tempPixel[3]+=e[3]*n,s++);return this.tempPixel[0]=this.tempPixel[0]/s,this.tempPixel[1]=this.tempPixel[1]/s,this.tempPixel[2]=this.tempPixel[2]/s,this.tempPixel[3]=this.tempPixel[3]/s,this.tempPixel},this.tempPixel=[],this.clear=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.imgData=this.ctx.getImageData(0,0,1,1)},this.width=this._width,this.height=this._height,this.setColor(),this.ctx.fillRect(0,0,this._width,this._height),this.imgData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),this.changeWH(),this.blendColors=function(){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);for(var e,h,s,n,o=[0,0,0,0];h=t.shift();)void 0===h[3]&&(h[3]=255),s=h[3]/255,(n=o[3]/255)&&s?((e=[0,0,0,0])[3]=1-(1-s)*(1-n),e[0]=Math.round(h[0]*s/e[3]+o[0]*n*(1-s)/e[3]),e[1]=Math.round(h[1]*s/e[3]+o[1]*n*(1-s)/e[3]),e[2]=Math.round(h[2]*s/e[3]+o[2]*n*(1-s)/e[3])):e=s?h:o,o=e;return e[3]=255*e[3],e}}Object.defineProperties(j.prototype,{width:{set:function(t){var i=this._width;this._width=t,this.changeWH(),i<this._width&&(this.setColor(),this.ctx.fillRect(i,0,this._width,this._height)),this.widthVisi=this._widthVisi},get:function(){return this._width}},height:{set:function(t){var i=this._height;this._height=t,this.changeWH(),i<this._height&&(this.setColor(),this.ctx.fillRect(0,i,this._width,this._height)),this.heightVisi=this._heightVisi},get:function(){return this._height}},widthVisi:{set:function(t){this._widthVisi=t},get:function(){return this._widthVisi}},heightVisi:{set:function(t){this._heightVisi=t},get:function(){return this._heightVisi}}});var F=function(t){function i(t,e,h,s){var o;n(this,i),(o=a(this,u(i).call(this))).type="DScrollBarH",o.dcmParam=dcmParam,o.dcmParam.add(d(d(o)));var r=d(d(o));o.x=e||0,o.y=h||0,o._text="null",o.fun=s,o.fun_mouseover=void 0,o.fun_mouseout=void 0,o.fun_mousedown=void 0,o._width=100,o._height=dcmParam.wh,o._color=dcmParam._color,o._colorText=dcmParam._colorText,o._fontSize=dcmParam._fontSize,o._widthContent=200,o._offsetHit=0,o._value=0,o._otstup=0,null!=t&&null!=t.add&&t.add(d(d(o))),o.panel=new y(d(d(o)),0,0),o.panelA=new y(d(d(o)),o._offsetHit,o._offsetHit),o.panelA.alpha=0,o.but=new _(d(d(o)),0,0," "),o.but.fun_mousedown=function(){r.onDragStart()};var l,c,p=void 0;return o.mouseup=function(t){p=void 0,0==dcmParam.mobile?(document.removeEventListener("mousemove",r.mousemove),document.removeEventListener("mouseup",r.mouseup)):(document.removeEventListener("touchend",r.mouseup),document.removeEventListener("touchmove",r.mousemove))},o.mousemove=function(t){var i=0,e=0;e=null==t.clientX?t.targetTouches[0].clientX:t.clientX,null==p&&(p={x:e,x1:r.x,y1:r.y}),i=e-p.x+l,r.but.width+i>r._width&&(i=r._width-r.but.width),i<0&&(i=0),r.value=i/(r._width-r.but.width)*100,r.fun&&r.fun()},o.onDragStart=function(){r.value,l=this.but.x,0==dcmParam.mobile?(document.addEventListener("mousemove",r.mousemove),document.addEventListener("mouseup",r.mouseup)):(document.addEventListener("touchend",r.mouseup),document.addEventListener("touchmove",r.mousemove))},o.panelA.div.addEventListener("mousedown",function(t){c=t.offsetX-r.but.width/2,r.but.width+c>r._width&&(c=r._width-r.but.width),c<0&&(c=0),r.value=c/(r._width-r.but.width)*100,r.onDragStart(),r.fun&&r.fun()}),o._width--,o.width=o._width+1,o._height--,o.height=o._height+1,o}return l(i,h["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){if(this._width!=t){this._width=t,this._width+2*this._otstup>=this._widthContent?this.but.width=this._width-2*this._otstup:this.but.width=this._width*this._width/this._widthContent,this.but.width<this._wh&&(this.but.width=this._wh),this.panel.width=this._width,this.panelA.width=this._width;var i=this.value;this._value=-1,this.value=i}},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.panel.height=t,this.but.height=t,this.panelA.height=this._height+2*this._offsetHit)},get:function(){return this._height}},{key:"widthContent",set:function(t){if(this._widthContent!=t){this._widthContent=t;var i=this._width-2*this._otstup;if(i>=this._widthContent)this.but.width=i;else{var e=i*i/this._widthContent;e<this._wh&&(e=this._wh);var h=e-this.but.width;this.but.x+this.but.width+h>i?this.but.x-=h:this.but.x<0&&(this.but.x=0),this.but.width=e}var s=this.value;this._value=-1,this.value=s}},get:function(){return this._widthContent}},{key:"value",set:function(t){this._value!=t&&(this._value=t,isNaN(parseFloat(this._value))&&(this._value=0),this._value<0&&(this._value=0),this._value>100&&(this._value=100),this.but.x=this._otstup+(this._width-2*this._otstup-this.but.width)*(this._value/100),this._scrolValue=(this._widthContent-this._width)*this._value/100,this._scrolValue<0&&(this._scrolValue=0))},get:function(){return this._value}},{key:"offsetHit",set:function(t){this._offsetHit!=t&&(this._offsetHit=t,this.panelA.height=this._height+2*this._offsetHit,this.panelA.y=-this._offsetHit)},get:function(){return this._offsetHit}}]),i}(),D=function(t){function i(t,e,h,s){var o;n(this,i),(o=a(this,u(i).call(this))).type="DScrollBarV",o.dcmParam=dcmParam,o.dcmParam.add(d(d(o)));var r=d(d(o));o.x=e||0,o.y=h||0,o._text="null",o.fun=s,o.fun_mouseover=void 0,o.fun_mouseout=void 0,o.fun_mousedown=void 0,o._width=dcmParam.wh,o._height=100,o._color=dcmParam._color,o._colorText=dcmParam._colorText,o._fontSize=dcmParam._fontSize,o._heightContent=200,o._offsetHit=0,o._value=0,o._otstup=0,null!=t&&null!=t.add&&t.add(d(d(o))),o.panel=new y(d(d(o)),0,0),o.panelA=new y(d(d(o)),o._offsetHit,o._offsetHit),o.panelA.alpha=0,o.but=new _(d(d(o)),0,0," "),o.but.object.style.transform="rotate(90deg)",o.but.fun_mousedown=function(){r.onDragStart()};var l,c,p=void 0;return o.mouseup=function(t){p=void 0,0==dcmParam.mobile?(document.removeEventListener("mousemove",r.mousemove),document.removeEventListener("mouseup",r.mouseup)):(document.removeEventListener("touchend",r.mouseup),document.removeEventListener("touchmove",r.mousemove))},o.mousemove=function(t){var i=0,e=0;e=null==t.clientY?t.targetTouches[0].clientY:t.clientY,null==p&&(p={x:t.clientX,y:e,x1:r.x,y1:r.y}),i=e-p.y+l,r.but.width+i>r._height&&(i=r._height-r.but.width),i<0&&(i=0),r.value=i/(r._height-r.but.width)*100,r.fun&&r.fun()},o.onDragStart=function(){r.value,l=this.but.y,0==dcmParam.mobile?(document.addEventListener("mousemove",r.mousemove),document.addEventListener("mouseup",r.mouseup)):(document.addEventListener("touchend",r.mouseup),document.addEventListener("touchmove",r.mousemove))},o.panelA.div.addEventListener("mousedown",function(t){c=t.offsetY-r.but.width/2,r.but.width+c>r._height&&(c=r._height-r.but.width),c<0&&(c=0),r.value=c/(r._height-r.but.width)*100,r.onDragStart(),r.fun&&r.fun()}),o._width--,o.width=o._width+1,o._height--,o.height=o._height+1,o}return l(i,h["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.panel.width=t,this.but.height=t,this.panelA.width=this._width+2*this._offsetHit,this.but.object.style.left=-(this.but.width/2-this._width/2)+"px",this.but.object.style.top=this.but.width/2-this._width/2+"px")},get:function(){return this._width}},{key:"height",set:function(t){if(this._height!=t){this._height=t,this._height+2*this._otstup>=this._heightContent?this.but.width=this._height-2*this._otstup:this.but.width=this._height*this._height/this._heightContent,this.but.width<this._wh&&(this.but.width=this._wh),this.panel.height=this._height,this.panelA.height=this._height;var i=this._value;this.value=-1,this.value=i,this.but.object.style.left=-(this.but.width/2-this._width/2)+"px",this.but.object.style.top=this.but.width/2-this._width/2+"px"}},get:function(){return this._height}},{key:"heightContent",set:function(t){if(this._heightContent!=t){this._heightContent=t;var i=this._height-2*this._otstup;if(i>=this._heightContent)this.but.width=i;else{var e=i*i/this._heightContent;e<this._wh&&(e=this._wh);var h=e-this.but.width;this.but.y+this.but.width+h>i?this.but.y-=h:this.but.y<0&&(this.but.y=0),this.but.width=e}var s=this._value;this.value=-1,this.value=s,this.but.object.style.left=-(this.but.width/2-this._width/2)+"px",this.but.object.style.top=this.but.width/2-this._width/2+"px"}},get:function(){return this._heightContent}},{key:"value",set:function(t){this._value!=t&&(this._value=t,isNaN(parseFloat(this._value))&&(this._value=0),this._value<0&&(this._value=0),this._value>100&&(this._value=100),this.but.y=this._otstup+(this._height-2*this._otstup-this.but.width)*(this._value/100),this._scrolValue=(this._heightContent-this._height)*this._value/100,this._scrolValue<0&&(this._scrolValue=0))},get:function(){return this._value}},{key:"offsetHit",set:function(t){this._offsetHit!=t&&(this._offsetHit=t,this.panelA.width=this._width+2*this._offsetHit,this.panelA.x=-this._offsetHit)},get:function(){return this._offsetHit}}]),i}()},function(t,i,e){"use strict";e.d(i,"b",function(){return s}),e.d(i,"a",function(){return n});var h=e(0);function s(t,i,e,s){h.a.call(this),this.type="DGallery";var o,r,a,u,l,c,d,p,f,m=this;this.dcmParam=dcmParam,this.dcmParam.add(this),null!=t&&null!=t.add&&t.add(this),this.x=i||0,this.y=e||0,this.fun=s,this._panelBool=!1,this._widthPic=64,this._heightPic=64,this._width=200,this._height=200,this._otstup=2,this._kolII=2,this._index=-1,this._otstup1=5,this.clearIndex=!0,this._color=dcmParam._color,this._color1=dcmParam._color1,this._lineSize=2,this._boolPositScrol=!0,this._boolPositOtctup=!0,this._boolWheel=!0,this.sahDelta=20,this.funLoad,this.funOver,this.funOut,this.arrayKesh=[],this.arrayObj=[],this.array=[],this.ww=1,this.wM=1,this.hh=1,this.hM=1,this.contPanel=new h.a,this.add(this.contPanel),this.content1=new h.a,this.add(this.content1),this.content=new h.a,this.content1.add(this.content),this.content1.div.style.clip="rect(1px "+this._width+"px "+this._height+"px 0px)",this.scrollBarH=new DScrollBarH(this,0,this._height-this.otstup1,function(){m.scrolPos(!1)}),this.scrollBarH.offsetHit=20,this.scrollBarV=new DScrollBarV(this,this._width-this.otstup1,0,function(){m.scrolPos(!1)}),this.scrollBarV.offsetHit=20,this.createZamen,this.complitLoad,this.postDraw,this.funOver,this.funOut,this.fOver=function(t){m.funOver&&m.funOver(t)},this.fOut=function(t){m.funOver&&m.funOver(t)},this.createDrawBox=function(t){for(var i=0;i<this.arrayKesh.length;i++)if(0==this.arrayKesh[i].visible&&1==this.arrayKesh[i].isObj(t))return this.arrayKesh[i];for(i=0;i<this.arrayKesh.length;i++)if(0==this.arrayKesh[i].visible)return this.arrayKesh[i];return null!=this.createZamen?this.arrayKesh.push(this.createZamen()):this.arrayKesh.push(new n(this.content,0,0,this.downBtn)),this.funOver&&(this.arrayKesh[this.arrayKesh.length-1].funOver=this.fOver),this.funOut&&(this.arrayKesh[this.arrayKesh.length-1].funOut=this.fOut),this.arrayKesh[this.arrayKesh.length-1].width=this._widthPic,this.arrayKesh[this.arrayKesh.length-1].height=this._heightPic,this.arrayKesh[this.arrayKesh.length-1].color=this._color,this.arrayKesh[this.arrayKesh.length-1].color1=this._color1,this.arrayKesh[this.arrayKesh.length-1].idArrKesh=this.arrayKesh.length-1,this.arrayKesh[this.arrayKesh.length-1].funLoad=this.funLoad,this.arrayKesh[this.arrayKesh.length-1].funOver=this.funOver,this.arrayKesh[this.arrayKesh.length-1].funOut=this.funOut,this.arrayKesh[this.arrayKesh.length-1]},this.scrolPos=function(t){1==t?(m.scrollBarV.value=this.content.y/(this._height-m.scrollBarV.heightContent)*100,m.scrollBarH.value=this.content.x/(this._width-m.scrollBarH.widthContent)*100):(m.content.y=m.scrollBarV.value/100*(this._height-m.scrollBarV.heightContent),m.content.x=m.scrollBarH.value/100*(this._width-m.scrollBarH.widthContent))},this.korektPoIndex=function(t){null==t&&(t=this._index),null!=this.array[t]&&(this.array[t].x+this.content.x+this.array[t].width-this.otstup>this._width&&(this.content.x=-(this.array[t].x+this.array[t].width-this._width+this.otstup)),this.array[t].x+this.content.x-this.otstup<0&&(this.content.x=-this.array[t].x+this.otstup),this.array[t].y+this.content.y+this.array[t].height-this.otstup>this._height&&(this.content.y=-(this.array[t].y+this.array[t].height-this._height+this.otstup)),this.array[t].y+this.content.y-this.otstup<0&&(this.content.y=-this.array[t].y+this.otstup),this.scrolPos(!0))},this.downBtn=function(){m.index=this.idArr,m.obj=m.array[this.idArr].object,m.fun&&m.fun()},this.sahLoad=0,this.sahRendom=0,this.funLoad=function(){m.sahLoad++,m.sahLoad>m.array.length?(null!=this.complitLoad&&this.complitLoad(),m.draw()):this.sahRendom==m.sahRendom&&(m.sahRendom=Math.round(1e4*Math.random()),m.array[m.sahLoad-1].sahRendom=m.sahRendom,m.array[m.sahLoad-1].startLoad(m.array[m.sahLoad-1].object11))},this.start=function(t){this.clear(),this.arrayObj=t;for(var i=0;i<this.arrayObj.length;i++)(l=this.createDrawBox(this.arrayObj[i])).visible=!0,l.object11=this.arrayObj[i],l.idArr=this.array.length,this.array.push(l);this.draw(),0!=this.array.length&&(m.sahLoad=0,this.sahRendom=Math.round(1e4*Math.random()),m.array[m.sahLoad].sahRendom=1*this.sahRendom,this.funLoad())},this.draw=function(){this.preDraw&&this.preDraw(),o=0,r=0,this.otstup1+2*this.otstup,a=1,this._kolII>this.array.length&&(a=this.array.length*(this._widthPic+this._otstup)+this._otstup),u=this._heightPic+2*this._otstup;for(var t=0;t<this.array.length;t++)this.array[t].x=o*(this._widthPic+this._otstup)+this._otstup,this.array[t].y=r*(this._heightPic+this._otstup)+this._otstup,this.array[t].x+this._widthPic+this._otstup>a&&(a=this.array[t].x+this._widthPic+this._otstup),u=(r+1)*(this._heightPic+this._otstup)+this._otstup,++o>=this._kolII&&(o=0,r++);a>this._width?this.scrollBarH.visible=!0:this.scrollBarH.visible=!1,u>this._height?this.scrollBarV.visible=!0:this.scrollBarV.visible=!1,this.scrollBarH.widthContent=a,this.scrollBarV.heightContent=u,c=a>this._width?this._width:a,d=u>this._height?this._height:u,this.ww=a,this.wM=c,this.hh=u,this.hM=d,this._boolPositScrol?this._boolPositOtctup?(this.scrollBarH.y=d-this.otstup-this._otstup1,this.scrollBarV.x=c-this.otstup-this._otstup1):(this.scrollBarH.y=d+this.otstup,this.scrollBarV.x=c+this.otstup):this._boolPositOtctup?(this.scrollBarH.y=this.otstup,this.scrollBarV.x=this.otstup):(this.scrollBarH.y=-this.otstup-this._otstup1,this.scrollBarV.x=-this.otstup-this._otstup1),null!=this.panel&&(this.panel.width=this._width,this.panel.height=this._height),this.postDraw&&this.postDraw()},this.drawScrol=function(){this.scrollBarH.height=this._otstup1,this.scrollBarH.width=this._width,this.scrollBarV.width=this._otstup1,this.scrollBarV.height=this._height},this.drawScrol(),this.clear=function(){this.clearPosit();for(var t=0;t<this.arrayKesh.length;t++)this.arrayKesh[t].clear();this.array.length=0},this.clearIndex=!0,this.clearPosit=function(){this.content.x=0,this.content.y=0,this.scrollBarH.scrolValue=0,this.scrollBarV.scrolValue=0,this.clearIndex&&(this.index=-1)},this.mousewheel=function(t){trace(t),m.kolII<=m.array.length?(p=(m.heightPic+m.otstup)*Math.ceil(m.array.length/m.kolII)-m._height,f=(m.widthPic+m.otstup)*m.kolII-m._width):(p=m.heightPic+m.otstup-m._height,f=(m.widthPic+m.otstup)*m.array.length-m._width),m.scrollBarV.visible?t.deltaY>0?m.content.y>=0?(m.content.y=0,m.scrollBarV.value=0):(m.scrollBarV.value-=m.sahDelta,m.content.y+=m.sahDelta):m.content.y<=-(p+m.otstup)?(m.content.y=-(p+m.otstup),m.scrollBarV.value=p):(m.scrollBarV.value+=m.sahDelta,m.content.y-=m.sahDelta):m.scrollBarH.visible&&(t.deltaY>0?m.content.x>=0?(m.content.x=0,m.scrollBarH.value=0):(m.scrollBarH.value-=m.sahDelta,m.content.x+=m.sahDelta):m.content.x<=-(f+m.otstup)?(m.content.x=-(f+m.otstup),m.scrollBarH.value=f):(m.scrollBarH.value+=m.sahDelta,m.content.x-=m.sahDelta))};var _=this._boolWheel;this._boolWheel=null,this.boolWheel=_}function n(t,i,e,s){h.a.call(this),this.type="DBox";var n,o=this;t.add(this),this.x=i||0,this.y=e||0,this.fun=s,this._link="",this._title="",this._width=100,this._height=100,this._otstup=2,this.clearIndex=!0,this._object=null,this._activ=!1,this.idArr=-1,this.idArrKesh=-1,this.id=-1,this.funLoad,this.postDraw,this.funOver,this.funOut,this.content=new h.a,this.add(this.content),this.panel=new DPanel(this.content,0,0),this.image=new DImage(this.content,0,0,void 0,function(){o.draw(),o.funLoad&&o.funLoad()}),this.label=new DLabel(this.content,0,0,"|"),this.image.visible=!1,this.label.visible=!1,this.object,this._color="#ffffff",this._color1="#ff0000",this._lineSize=2,this.boolOut=!0,this.draw=function(){(n=(this._width-2*this._otstup)/this.image.picWidth)>(this._height-2*this._otstup)/this.image.picHeight&&(n=(this._height-2*this._otstup)/this.image.picHeight),this.image.x=0,this.image.width=this.image.picWidth*n,this.image.height=this.image.picHeight*n,this.image.x=(this._width-this.image.picWidth*n)/2,this.image.y=(this._height-this.image.picHeight*n)/2,this.label.x=(this._width-this.label.curW)/2,this.label.y=this._height-this.label.curH-this._otstup,this.postDraw&&this.postDraw()},this.isObj=function(t){return null!=this.object&&null!=t&&null!=t.link&&null!=this.object.link&&this.object.link==t.link},this.startLoad=function(t){this.object=t,t.title&&(this.label.text=t.title,this.label.value=t.title,this.label.visible=!0),t.src?(this.image.visible=!0,this.image.link==t.src?o.funLoad&&o.funLoad():(this.image.width=100,this.image.height=100,this.image.link=t.src)):o.funLoad&&o.funLoad(),this.draw()},this.clear=function(){this.visible=!1,this.label.visible=!1,this.image.visible=!1,this.clearIndex&&(this.activ=!1)},this.funOver,this.funOut,this.mouseOver=function(t){o.boolOut=!1,0==o._activ?o.panel.color1=dcmParam.compToHexArray(dcmParam.hexDec(o._color1),-30):o.panel.color1=dcmParam.compToHexArray(dcmParam.hexDec(o._color),-30),o.funOver&&o.funOver(this)},this.mouseOut=function(t){0==o._activ?o.panel.color1=o._color1:o.panel.color1=o._color,o.funOut&&o.funOut(this)},this.mouseDown=function(t){o.fun&&o.fun()},this.draw(),this.panel.div.addEventListener("mouseout",this.mouseOut),this.image.image.addEventListener("mouseout",this.mouseOut),this.panel.div.addEventListener("mouseover",this.mouseOver),this.image.image.addEventListener("mouseover",this.mouseOver),this.image.image.addEventListener("mousedown",this.mouseDown),this.panel.div.addEventListener("mousedown",this.mouseDown)}s.prototype=Object.create(h.a.prototype),s.prototype.constructor=s,Object.defineProperties(s.prototype,{panelBool:{set:function(t){this._panelBool!=t&&(this._panelBool=t,null==this.panel&&(this.panel=new DPanel(this.contPanel,0,0),this.panel.width=this._width,this.panel.height=this._height),this.panel.visible=t)},get:function(){return this._panelBool}},boolWheel:{set:function(t){this._boolWheel!=t&&(this._boolWheel=t,this.interactive=this._boolWheel,1==this._boolWheel?this.div.addEventListener("mousewheel",this.mousewheel):this.div.removeEventListener("mousewheel",this.mousewheel))},get:function(){return this._boolWheel}},boolPositScrol:{set:function(t){this._boolPositScrol!=t&&(this._boolPositScrol=t,this.draw())},get:function(){return this._boolPositScrol}},boolPositOtctup:{set:function(t){this._boolPositOtctup!=t&&(this._boolPositOtctup=t,this.draw())},get:function(){return this._boolPositOtctup}},color:{set:function(t){if(this._color!=t){this._color=t;for(var i=0;i<this.arrayKesh.length;i++)this.arrayKesh[i].color=this.color}},get:function(){return this._color}},color1:{set:function(t){if(this._color1!=t){this._color1=t;for(var i=0;i<this.arrayKesh.length;i++)this.arrayKesh[i].color1=this.color1}},get:function(){return this._color1}},lineSize:{set:function(t){if(this._lineSize!=t){this._lineSize=t;for(var i=0;i<this.arrayKesh.length;i++)this.arrayKesh[i].lineSize=this.lineSize}},get:function(){return this._lineSize}},heightPic:{set:function(t){if(this._heightPic!=t){this._heightPic=t;for(var i=0;i<this.arrayKesh.length;i++)this.arrayKesh[i].height=this._heightPic;this.draw()}},get:function(){return this._heightPic}},widthPic:{set:function(t){if(this._widthPic!=t){this._widthPic=t;for(var i=0;i<this.arrayKesh.length;i++)this.arrayKesh[i].width=this._widthPic;this.draw()}},get:function(){return this._widthPic}},width:{set:function(t){this._width!=t&&(this._width=t,this.content1.div.style.clip="rect(1px "+this._width+"px "+this._height+"px 0px)",this.content1.x=0,this.drawScrol(),this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.content1.div.style.clip="rect(1px "+this._width+"px "+this._height+"px 0px)",this.content1.x=0,this.drawScrol(),this.draw())},get:function(){return this._height}},otstup:{set:function(t){if(this._otstup!=t){this._otstup=t;for(var i=0;i<this.arrayKesh.length;i++)this.arrayKesh[i].otstup=this._otstup;this.draw()}},get:function(){return this._otstup}},otstup1:{set:function(t){this._otstup1!=t&&(this._otstup1=t,this.drawScrol(),this.draw())},get:function(){return this._otstup1}},kolII:{set:function(t){if(this._kolII!=t){this._kolII=t;var i=this.index;this.clearPosit(),this.index=i,this.drawScrol(),this.draw()}},get:function(){return this._kolII}},index:{set:function(t){if(null!=this.array[t]&&this.korektPoIndex(t),this._index!=t){this._index=t;for(var i=0;i<this.array.length;i++)this._index==i?this.array[i].activ=!0:this.array[i].activ=!1}},get:function(){return this._index}},x:{set:function(t){this._x!=t&&(this._x=t,this.position.x=t)},get:function(){return this._x}},y:{set:function(t){this._y!=t&&(this._y=t,this.position.y=t)},get:function(){return this._y}},activMouse:{set:function(t){this._y!=t&&(this._activMouse=t,this.alpha=1==t?1:.7)},get:function(){return this._activMouse}}}),n.prototype=Object.create(h.a.prototype),n.prototype.constructor=n,Object.defineProperties(n.prototype,{activ:{set:function(t){this._activ!=t&&(this._activ=t,0==this._activ?this.panel.color1=this._color1:this.panel.color1=this._color)},get:function(){return this._activ}},color:{set:function(t){this._color!=t&&(this._color=t,this.draw())},get:function(){return this._color}},color1:{set:function(t){this._color1!=t&&(this._color1=t)},get:function(){return this._color1}},lineSize:{set:function(t){this._lineSize!=t&&(this._lineSize=t,this.draw())},get:function(){return this._lineSize}},otstup:{set:function(t){this._otstup!=t&&(this._otstup=t,this.draw())},get:function(){return this._otstup}},width:{set:function(t){this._width!=t&&(this._width=t,this.panel.width=this._width,this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.panel.height=this._height,this.draw())},get:function(){return this._height}}})},function(t,i,e){"use strict";e.d(i,"a",function(){return f}),e.d(i,"b",function(){return _});var h=e(0),s=e(1);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function r(t,i){for(var e=0;e<i.length;e++){var h=i[e];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}function a(t,i,e){return i&&r(t.prototype,i),e&&r(t,e),t}function u(t,i){return!i||"object"!==n(i)&&"function"!=typeof i?p(t):i}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&d(t,i)}function d(t,i){return(d=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var f=function(t){function i(t,e,s,n){var r;o(this,i),(r=u(this,l(i).call(this,t))).type="DAroundButton";var a,c=p(p(r));r.x=e||0,r.y=s||0,r.fun=n,r._dist=60,r._angel=30,r._angelSdvih=-Math.PI/2,r.array=[],r.dCont=new h.a,r.creat=function(t,i,e,h){a=new m(this,t,i,e,h,this.array.length),this.array.push(a)},r.setParam=function(t,i){for(var e=0;e<this.array.length;e++)this.array[e].name==t&&this.array[e].setValue(i)};var d=[];r.start=function(t,i,e,h){this.stop(),d=[];for(var s=0;s<h.length;s++)for(var n=0;n<this.array.length;n++)h[s]==this.array[n].name&&d.push(this.array[n]);for(s=0;s<d.length;s++)this.dCont.add(d[s].dCont);this.reposit(),this.dCont.x=i,this.dCont.y=e,t.add(this.dCont)},r.stop=function(){for(var t=0;t<this.array.length;t++)null!=this.array[t].dCont.parent&&this.array[t].dCont.parent.remove(this.array[t].dCont);null!=this.dCont.parent&&this.dCont.parent.remove(this.dCont)},r.getVector=function(t,i,e){return t<0&&(i+=Math.PI),e.x=Math.abs(t)*Math.cos(i),e.y=Math.abs(t)*Math.sin(i),e};var f={x:0,y:0};return r.reposit=function(){for(var t=-this._angel*Math.PI/180*(d.length-1)/2,i=0;i<d.length;i++)this.getVector(this._dist,t+this._angel*Math.PI/180*i+this._angelSdvih,f),d[i].dCont.x=f.x,d[i].dCont.y=f.y},r.mousedown=function(t){var i=!0;t.target&&t.target.bAround&&(i=!1),1==i&&c.stop()},document.addEventListener("mousedown",c.mousedown),r}return c(i,h["a"]),a(i,[{key:"dist",set:function(t){this._dist!=t&&(this._dist=t,this.reposit())},get:function(){return this._dist}},{key:"angel",set:function(t){this._angel!=t&&(this._angel=t,this.reposit())},get:function(){return this._angel}},{key:"angelSdvih",set:function(t){this._angelSdvih!=t&&(this._angelSdvih=t,this.reposit())},get:function(){return this._angelSdvih}}]),i}(),m=function t(i,e,s,n,r,a){o(this,t),this.type="BAround";var u=this;this.par=i,this.name=e,this.link=s,this.link=n,this.state=r,this.idArr=a,this.dCont=new h.a,this.dCont2=new h.a,this.dCont.add(this.dCont2),this.dCont2.x=-dcmParam.wh/2,this.dCont2.y=-dcmParam.wh/2,this.button=new _(this.dCont2,0,0,s,n,function(){i.fun(u.name,this.value)}),this.button.state=r,this.button.object.bAround=this,this.setValue=function(t){this.button.value=t}},_=function(t){function i(t,e,h,s,n,r){var a;o(this,i),(a=u(this,l(i).call(this,t,e,h," ",r))).type="DButtonDrag";var c,d=p(p(a));a.link=s,a.link1=n,a.x=e||0,a.y=h||0,a.fun=r,a._state=0,a._value=!0,a.borderRadius=100,d.width=a.height,a.image=new DImage(p(p(a)),0,0,s,function(){}),a.image.div.style.pointerEvents="none",a.image1=new DImage(p(p(a)),0,0,n,function(){}),a.image1.div.style.pointerEvents="none",a.image.width=a.image.height=d.width,a.image1.width=a.image1.height=d.width,a.image1.visible=!1,d.point={x:0,y:0};var f={x:0,y:0};a.fun_mousedown=function(){0==d._state&&(d.value=!d._value),d._state,2!=d._state&&3!=d._state&&4!=d._state||(d.pointStast.x=d.x,d.pointStast.y=d.y,d.point.x=0,d.point.y=0,f.x=d.x,f.y=d.y,c=this.parent,this.getBigPar(this,f).add(this),this.x=f.x,this.y=f.y,0==dcmParam.mobile?(document.addEventListener("mousemove",d.mousemove2),document.addEventListener("mouseup",d.mouseup2)):(document.addEventListener("touchend",d.mouseup2),document.addEventListener("touchmove",d.mousemove2)))},a.getBigPar=function(t,i){return null==t.parent?t:(i.x+=t.x,i.y+=t.y,this.getBigPar(t.parent,i))},d.pointStast={x:0,y:0};var m=void 0;return d.mouseup2=function(t){d.x=d.pointStast.x,d.y=d.pointStast.y,c.add(d),m=void 0,0==dcmParam.mobile?(document.removeEventListener("mousemove",d.mousemove2),document.removeEventListener("mouseup",d.mouseup2)):(document.removeEventListener("touchend",d.mouseup2),document.removeEventListener("touchmove",d.mousemove2))},d.mousemove2=function(t){var i=0,e=0;null==t.clientX?(i=t.targetTouches[0].clientX,e=t.targetTouches[0].clientY):(i=t.clientX,e=t.clientY),null==m&&(m={x:i,y:e,x1:d.x,y1:d.y}),d.point.x=i-m.x,d.point.y=e-m.y,3!=d._state&&4!=d._state||(d.x=m.x1+d.point.x),2!=d._state&&4!=d._state||(d.y=m.y1+d.point.y),d.fun()},a}return c(i,s["a"]),a(i,[{key:"state",set:function(t){this._state!=t&&(this._state=t,this.loadImeg(this.link),0==this._state&&(this.value=!0),1!=this._state&&2!=this._state&&3!=this._state&&4!=this._state||(this._value=this.point))},get:function(){return this._state}},{key:"value",set:function(t){this._value=t,0==this._state&&(this.image.visible=t,this.image1.visible=!t)},get:function(){return this._value}}]),i}()},function(t,i,e){"use strict";e.d(i,"a",function(){return s});var h=e(0);function s(t){var i=this;this.type="DSettings",this.content=new h.a,null!=t&&t.add(this.content),this.dinFun,this._otstup=2,this._width=200,this._height=200,this._heightMax=1e3,this._value=void 0,this.drawArrFon=!0,this.finalHeight=200,this.arrComp=[],this.arrComp2=[],this.objComp={},this.tipRide=!1,this.arrF=[],this.debugRect=!1,this.shagY=0,this.korectText=null;var e,s,o,r=0,a="null",u=0,l=0;this.draw=function(){this.getBigH(),this.debugRect&&this.drawDebugRect(),s=0,this.shagY=this._otstup,this.arrF=[],this.arrF[0]=0,this.arrF[1]=2,a="null",u=0,l=0,this.arrDividingLine.forEach(function(t){t.visible=!1});for(var t=0;t<this.arrComp2.length;t++)if(!1!==this.arrComp2[t].visible){var i=!0;if(void 0!==this.arrComp2[t].funDrag&&!0===this.arrComp2[t].funDrag(this,t))continue;"PLCheckBoxImage"===this.arrComp2[t].type&&null!=this.arrComp2[t+1]&&"PLCheckBoxImage"==this.arrComp2[t+1].type&&(i=!1),"SliderImg"===this.arrComp2[t].type&&null!=this.arrComp2[t+1]&&++s%2!=0&&"SliderImg"==this.arrComp2[t+1].type&&(i=!1),"SliderImg"===this.arrComp2[t].type&&(this.arrComp2[t].x=this._otstup+this._otstup/2,0!==t&&"SliderImg"===this.arrComp2[t-1].type&&s%2==0&&(this.arrComp2[t].x=this._width/2+this._otstup+this._otstup/2,this.addDividingLine(this._width/2,this.shagY-this._otstup+2,this.arrComp2[t].height+2*this._otstup-4))),"PLButSwitch"===this.arrComp2[t].type&&(this.shagY-=this._otstup-2);var e="PLColorPalette"===this.arrComp2[t].type,h="MColorPalettePicker"===this.arrComp2[t].type;(e||h)&&(this.shagY-=this._otstup),i?(a===this.arrComp2[t].type||-1!==this.arrComp2[t].type.indexOf(a)?(u+=this.arrComp2[t].height+this._otstup,this.arrF[this.arrF.length-1]=u):("null"===a||t===this.arrComp2.length-1&&"PLPachkaButton2"==this.arrComp2[this.arrComp2.length-1].type?l=this.shagY:(this.shagY+=this._otstup,l=this.shagY),this.arrF.push(l),this.arrF.push(this.arrComp2[t].height+this._otstup),u=this.arrComp2[t].height+this._otstup),a=this.arrComp2[t].type,this.arrComp2[t].y=this.shagY,this.shagY+=this.arrComp2[t].height+this._otstup):this.arrComp2[t].y=this.shagY,this.debugRect&&this.drawDebugRect(this.arrComp2[t].y,this.arrComp2[t].height),"PLPachkaButton2"!==this.arrComp2[t].type&&"PLButSwitch"!==this.arrComp2[t].type||(this.arrF[this.arrF.length-1]-=this._otstup,this.shagY-=this._otstup,"PLButSwitch"===this.arrComp2[t].type&&(this.arrF[this.arrF.length-1]+=2)),(e||h)&&(this.arrF[this.arrF.length-1]-=this._otstup,this.shagY-=this._otstup)}this.finalHeight=this.shagY,this.draw2()},this.arrDividingLine=[],this.addDividingLine=function(t,i,e){var h=null;this.arrDividingLine.forEach(function(t){!1===t.visible&&(h=t,t.visible=!0)},this),null===h&&(h=new PIXI.Graphics,this.arrDividingLine.push(h),this.content.addChild(h)),h.clear(),h.beginFill("0xaeaeae"),h.drawRect(0,0,1.5,e),h.position.set(t,i)},this.drawDebugRect=function(t,i){null==o&&(o=new PIXI.Graphics,this.content.addChild(o)),null!=t?(o.lineStyle(.5,16711680),o.drawRect(0,t,this._width,i)):o.clear()},this.getHForGal=function(){},this.draw2=function(){};var c,d,p,f=0,m=0,_=!0,g=-1;this.getBigH=function(){r=2*this._otstup,e=0,g=-1,_=!0;for(var t=!1,i=0;i<this.arrComp2.length;i++)this.arrComp2[i].visible&&"PLButSwitch"===this.arrComp2[i].type&&(t=!0,i=this.arrComp2.length);for(i=0;i<this.arrComp2.length;i++)if(0!=this.arrComp2[i].visible)switch(this.arrComp2[i].type){case"PLGADM":e+=this.arrComp2[i].currentHeight+this._otstup;break;case"GalleryAdm":e+=this.arrComp2[i].corentHeight+this._otstup;break;case"PLColorUn":f=this.arrComp2[i].heightMax+this._otstup,m=this.arrComp2[i].heightMin+this._otstup;break;default:r+=this.arrComp2[i].height+2*this._otstup}r-=this._otstup,e-=this._otstup;var h=r+e,s=r+e,n=this._height-r;t||(h+=f,s+=m,n-=m);for(i=0;i<this.arrComp2.length;i++)if(!1!==this.arrComp2[i].visible){var o=this.arrComp2[i].type;"PLGADM"!==o&&"GalleryAdm"!==o||(h>this._height?(_=!1,s>this._height?this.arrComp2[i].height=n:this.arrComp2[i].height=e):(_=!0,this.arrComp2[i].height=e)),"PLColorUn"==this.arrComp2[i].type&&(g=i),-1!=g&&(this.arrComp2[g].boolBig=_)}},this.setVisi=function(t){c=!1;for(var i=0;i<t.length;i+=2)null!=this.objComp[t[i]]&&this.objComp[t[i]].visible!=t[i+1]&&(c=!0,this.objComp[t[i]].visible=t[i+1]);return 1==c&&this.draw(),c},this.setValue=function(t,i,e){null!=this.objComp[t]&&(this.objComp[t][i]=e)},this.getValue=function(t,i){return this.objComp[t][i]},this.getComp=function(t,i){return this.objComp[t]},this.getIdIsName=function(t){for(var i in this.objComp)if(null!=this.objComp[i].param&&this.objComp[i].param==t)return this.objComp[i];return null},this.object,this.setObj=function(t){this.object=t,this._value=t,this.korektObj(),this.korektObjParam(),this.draw()},this.korektObjParam=function(){if(null!=this.object&&null!=this.object.param)for(var t=0;t<this.arrComp2.length;t++)null!=this.object.param[this.arrComp2[t].param]&&null!=this.arrComp2[t].value&&(this.updateMinMax(this.arrComp2[t],this.object.param),this.updateValueComp(this.arrComp2[t],this.object.param))},this.updateValueComp=function(t,e){t.value!=e[t.param]&&(i.object.arrComp[t.idArr2].arrValue&&void 0!==t.index?t.index=i.object.arrComp[t.idArr2].arrValue.indexOf(e[t.param]):t.value=e[t.param])},this.updateMinMax=function(t,i){null!=t.min&&null!=i[t.param+"Min"]&&t.min!=i[t.param+"Min"]&&(t.min=i[t.param+"Min"]),null!=t.max&&null!=i[t.param+"Max"]&&t.max!=i[t.param+"Max"]&&(t.max=i[t.param+"Max"])},this.korektObj=function(){var t,e;for(t=0;t<this.arrComp.length;t++)this.arrComp[t].visible=!1;for(this.arrComp2.length=0,t=0;t<this.object.arrComp.length;t++)for(e=0;e<this.arrComp.length;e++)if(this.object.arrComp[t].name==this.arrComp[e].name){for(var h in this.arrComp[e].visible=!0,null!=this.object.arrComp[t].tipRide&&(this.arrComp[e].tipRide=this.object.arrComp[t].tipRide),null!=this.object.arrComp[t].typeYesArray&&(this.arrComp[e].typeYesArray=this.object.arrComp[t].typeYesArray),null!=this.object.arrComp[t].typeNotArray&&(this.arrComp[e].typeNotArray=this.object.arrComp[t].typeNotArray),null!=this.object.arrComp[t].arrObj&&(this.arrComp[e].clear(),this.arrComp[e].setObj(this.object.arrComp[t].arrObj)),this.object.arrComp[t])h in this.arrComp[e]&&(this.arrComp[e][h]=this.object.arrComp[t][h]);if(null!=this.object.arrComp[t].title&&(d=this.getText(this.object.arrComp[t].title),this.arrComp[e].title=d,this.arrComp[e].text=d),null!=this.object.arrComp[t].plusText&&null!=this.arrComp[e].plusText&&(this.arrComp[e].plusText=this.getText(this.object.arrComp[t].plusText)),null!=this.object.arrComp[t].plusArrText&&null!=this.arrComp[e].plusArrText){for(var s=this.arrComp[e].plusArrText,n=0;n<s.length;n++)s[n]=this.getText(s[n]);this.arrComp[e].plusArrText=s}if(null!=this.object.param){if(!0,null!=this.object.param[this.object.arrComp[t].param])if(i.object.arrComp[t].arrValue&&void 0!==this.arrComp[e].index){var o=i.object.arrComp[t].arrValue.indexOf(this.object.param[this.object.arrComp[t].param]);this.arrComp[e].index=o}else this.arrComp[e].value=this.object.param[this.object.arrComp[t].param];else void 0!==this.object.arrComp[t].param&&(this.arrComp[e].value=this.object.arrComp[t].param),this.reDragObject(this.arrComp[e]);this.arrComp[e].param=this.object.arrComp[t].param}else null!=this.object.objSave&&null!=this.object.objSave[this.object.arrComp[t].param]&&(this.arrComp[e].value=this.object.objSave[this.object.arrComp[t].param],this.arrComp[e].param=this.object.arrComp[t].param);this.arrComp[e].idArr2=t,this.arrComp2.push(this.arrComp[e])}this.draw()},this.compFinal,this.down=function(){i.compFinal=this,null!=i.object.funPre&&i.object.funPre(this);for(var t=0;t<i.object.arrComp.length;t++)if(i.object.arrComp[t].name==this.name){var e=i.object.arrComp[t].param,h=this.value;if(i.object.arrComp[t].arrValue&&void 0!==this.index&&(h=i.object.arrComp[t].arrValue[this.index]),e){if(null!=i.object.param&&(i.object.param[e]=h,i.object.param.settingsBeside&&i.object.param.settingsBeside(e)),null!=i.object.array)for(var s=0;s<i.object.array.length;s++)i.object.array[s][e]=h;null!=i.object.objSave&&void 0!==i.object.objSave[e]&&(i.object.objSave[e]=h)}null!=i.object.fun&&i.object.fun(this),null!=i.dinFun&&i.dinFun()}"SliderObject"!=this.type&&"DSliderBig"!=this.type&&"PLSliderBigRad"!=this.type&&"SliderImg"!==this.type&&"DCheckBox"!==this.type&&null!=i.object.funComplit&&i.object.funComplit(this)},this.funComplit=function(){null!=i.object.funComplit&&i.object.funComplit(this)},this.funUp=function(){null!=i.object.funUp&&i.object.funUp(this)},this.funActMouse,this.setActMouse=function(t,i){},this.setActMouseAll=function(t){for(var i=0;i<this.arrComp2.length;i++)this.arrComp2[i].activMouse=t;for(i=0;i<this.arrComp.length;i++)this.arrComp[i].activMouse=t},this.component;this.addComponent=function(t,e,h){if(p=null,"DStringDrag"==t&&((p=new n(this.content,0,0,h,this.down)).width=this._width-2*this._otstup),"DCheckBox"==t&&((p=new DCheckBox(this.content,0,0,e,this.down)).x=this._otstup),"DColor"==t&&((p=new DColor(this.content,0,0,"#ff0000",this.down)).width=this._width-2*this._otstup,p.x=this._otstup,i.draw2&&i.draw2()),"DSliderBig"==t){var s=0,o=100,r=100;null!=h&&(null!=h.min&&(s=h.min),null!=h.max&&(o=h.max),null!=h.okrug&&(r=h.okrug)),(p=new DSliderBig(this.content,0,0,this.down,e,s,o)).okrug=r,p.x=this._otstup,p.width=this._width-2*this._otstup,p.funChange=this.funComplit}return null!=h&&null!=p&&null!=h.funDrag&&(p.funDrag=h.funDrag),this.component=p,this.addComponent2(t,e,h),this.component.visible=!1,this.component.name=e,this.component.idArr=this.arrComp.length,this.arrComp.push(this.component),this.objComp[e]=this.component,this.drawComponent(),this.component},this.component,this.addComponent2=function(t,i,e){},this.addObject=function(t,i){},this.reDragObject=function(t){},this.drawComponent=function(){},this.getText=function(t){return null!==this.korectText?this.korectText(t):t},Object.defineProperty(this,"otstup",{set:function(t){this._otstup!=t&&(this._otstup=t,this.drawComponent())},get:function(){return this._otstup}}),Object.defineProperty(this,"width",{set:function(t){this._width!=t&&(this._width=t,this.drawComponent(),this.funWH&&this.funWH())},get:function(){return this._width}}),Object.defineProperty(this,"height",{set:function(t){this._height!=t&&(this._height=t,this.draw(),this.funWH&&this.funWH())},get:function(){return this._height}}),Object.defineProperty(this,"heightMax",{set:function(t){this._heightMax!=t&&(this._heightMax=t,this.drawComponent())},get:function(){return this._heightMax}}),Object.defineProperty(this,"value",{set:function(t){this._value=t;var i=!0;null!=t.fun&&(i=!1),1==i?this.addObject(t,this.tipRide):this.addObject(t.param,this.tipRide)},get:function(){return this._value}})}function n(t,i,e,s,n){h.a.call(this),this.type="DStringDrag";var o=this;t.add(this),this.x=i||0,this.y=e||0,this.fun=n,this._width=100,this._height=dcmParam.wh+4,this._activJsonParam=!1,this._isJSON=!1,this.otstup=dcmParam._otstup,this.wh=dcmParam.wh;var r=null;this.init=function(){this.input=new DInput(this,this.otstup,this.otstup,"null",function(){o.value=this.value}),this.but=new DButton(this,this.otstup,this.otstup,":",function(){o.fun()}),this.but.width=2*this.wh,this.input.x=this.but.width+2*this.otstup,this.input.width=this._width-this.input.x-2*this.otstup},this.funMinPO=function(){o.activJsonParam=!1},this.drag=function(){this.input.width=this._width-this.input.x},this.dragSettingsBig=function(){null===r&&(r=a(this.parent)),null!==r&&r.draw()};var a=function t(i){return null===i?null:i.settingsBig?i.settingsBig:t(i.parent)};this.init()}n.prototype=Object.create(h.a.prototype),n.prototype.constructor=n,Object.defineProperties(n.prototype,{text:{set:function(t){this._value!==t&&(this.value=t,null!=this._value&&(this.but.text=t))},get:function(){return this._value}},value:{set:function(t){this._value!==t&&(this._value=t,this.input.text=this._value)},get:function(){return this._value}},width:{set:function(t){this._width!==t&&(this._width=t,this.drag())},get:function(){return this._width}},height:{set:function(t){this._height!==t&&(this._height=t,this.drag())},get:function(){return this._height}},activMouse:{set:function(t){this._activMouse!=t&&(this._activMouse=t,this.input.activMouse=t,this.but.activMouse=t)},get:function(){return this._activMouse}}})},function(t,i,e){"use strict";function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,i,e,s){DSettings.call(this),this.type="DParamObject",null==dcmParam&&(dcmParam=new DCM),dcmParam.add(this);var n,o,r=this;for(var a in this.fun=s,this._x=i||0,this._y=e||0,this.cont=t,this.infoInt=-1,this._height=100,this._bWindow=!0,this._ignTypeArr=!1,this._actIgnBtn=!1,this._title="DParamObject",this._priorityType=!1,this._isScroll=!1,this.arrayColor=[],this.oShablon=[],this.textJSON="{}",this.objJSON={},this.funMinimize,this.funKorektObj=void 0,this.parrentPLPO=void 0,this.tipRide=!1,this.oP,this.ignBtn,this.wh=dcmParam.wh,this.w,this.typeArray=[],this.typeNotArray=null,this.typeYesArray=null,this.hhhhh=this._height,this._bWindow?(this.w=new DWindow(this.cont,this._x,this._y,this._title,function(){r.funMinimize&&(1==this.minimize?r._height=1:(r.draw(),r._height=r.finalHeight),r.funMinimize())}),this.w.content.add(this.content),this.w.drag=!1,this.w.width=this.width,this.w.height=this.height,this.w.drag=!1,this._height=this.wh,this.w.fun=function(){}):(this.content.x=i,this.content.y=e),this.arrType=["numbercolor","boolean","number","string"],this.arrType)this.oShablon[a]=[];this.addObject=function(t,i){null!=i&&(this.tipRide=i),this.oP=t,this.oShablon=[];for(var e=0;e<this.arrType.length;e++)this.oShablon[this.arrType[e]]=[];this.generatShablon(),this.clearShablon(),this.creatToShablon(),this.startToShablon(),this.draw2(),this.setTextInput()},this.clearShablon=function(t){var i,e,h;if(null!=this.typeYesArray&&0==this._ignTypeArr){for(i=0;i<this.arrType.length;i++)for(n=this.oShablon[this.arrType[i]],e=0;e<n.length;e++){for(u=!0,h=0;h<this.typeYesArray.length;h++)n[e]==this.typeYesArray[h]&&(u=!1);1==u&&(n.splice(e,1),h=999,e=-1)}for(var s in this.oShablon){for(u=!0,i=0;i<this.arrType.length;i++)this.arrType[i]==s&&(u=!1);if(1==u)for(n=this.oShablon[s],i=0;i<n.length;i++){for(var r in o=!0,this.oP)if(this.oP[r]==n[i])for(h=0;h<this.typeYesArray.length;h++)r==this.typeYesArray[h]&&(o=!1,h=999);1==o&&(n.splice(i,1),i=-1)}}}if(null!=this.typeNotArray&&0==this._ignTypeArr){for(i=0;i<this.arrType.length;i++)for(n=this.oShablon[this.arrType[i]],e=0;e<n.length;e++)for(h=0;h<this.typeNotArray.length;h++)n[e]==this.typeNotArray[h]&&(n.splice(e,1),h=999,e=-1);for(var s in this.oShablon){for(u=!0,i=0;i<this.arrType.length;i++)this.arrType[i]==s&&(u=!1);if(1==u)for(n=this.oShablon[s],i=0;i<n.length;i++)for(var r in this.oP)if(this.oP[r]==n[i])for(h=0;h<this.typeNotArray.length;h++)r==this.typeNotArray[h]&&(n.splice(i,1),i=-1)}}},this.draw2=function(){this.hhhhh=this.finalHeight,null!=this.parrentPLPO&&(this.hhhhh=this.finalHeight+pl102.wh-this._otstup),0==this.infoInt&&(this.textArea.y=this.finalHeight,this.but.y=this.finalHeight,this.hhhhh+=this.textArea.height),this.ignBtn&&(this.ignBtn.x=this.w.width-this.ignBtn.width-3),this.w.height=this.hhhhh+dcmParam.wh,r.updateScroll()},this.generatShablon=function(){var t,i;1==this.tipRide?(t=this.oP,this.generatShablon2(t)):(i=Object.getOwnPropertyNames(Object.getPrototypeOf(this.oP)),Object.getOwnPropertyNames(this.oP),this.generatShablon2(i))},this.generatShablon2=function(t){for(var i in t)1!=this.tipRide&&(i=t[i]),"constructor"!=i&&(n=h(this.oP[i]),n=this.addPrefix(n,i,this.oP[i]),this.oShablon[n]&&this.oShablon[n].push(i));for(var e in this.oP)if(null!=this.oP[e]&&"object"===h(this.oP[e]))for(var s=0;s<this.typeArray.length;s++)this.oP[e]instanceof this.typeArray[s].type&&(n=this.typeArray[s].name,null==this.oShablon[n]&&(this.oShablon[n]=[]),null!=this.typeArray[s].nameComp?(this.oShablon[n].push(e.replace("_","")),-1==this.arrType.indexOf(n)&&this.arrType.push(n)):this.oShablon[n].push(this.oP[e]));for(var n in this.oShablon)this.oShablon[n].sort()},this.component,this.arrPLPO=[],this.addComponent2=function(t,i,e){for(var h=!1,s=this.typeArray,n=0;n<s.length;n++)-1!=i.indexOf(s[n].name)&&null==s[n].nameComp&&(h=!0);1==h&&(this.component=new PLParamObject(this.content,this.otstup,0,this.down,1),this.component.otstup=this.otstup,this.arrPLPO.push(this.component),this.arrPLPO[this.arrPLPO.length-1].idArr=this.arrPLPO.length-1,this.component.parrentPLPO=this,this.component.width=this._width-2*this.otstup,this.component.funMinimize=this.funMin,null!=e&&(null!=e.title&&(this.component.title=e.title),null!=e.tipRide&&(this.component.tipRide=e.tipRide)),null!=this.dinFun&&(this.component.dinFun=this.dinFun))},this.funMin=function(t){r.funMinimize&&(r.draw(),r._height=this.hhhhh,r.funMinimize())},this.reDragObject=function(t){},this.creatToShablon=function(){for(var t in this.oShablon)for(var i=0;i<this.oShablon[t].length;i++)this.addTypeComp(t,i)},this.addTypeComp=function(t,i){var e,h;"boolean"==t&&(e="DCheckBox"),"numbercolor"==t&&(e="DColor"),"number"==t&&(e="DSliderBig"),"string"==t&&(e="DStringDrag");for(var s=0;s<this.typeArray.length;s++)this.typeArray[s].name==t&&(e="PLParamObject",null!=this.typeArray[s].nameComp&&(e=this.typeArray[s].nameComp));null==this.objComp[t+i]&&e&&(h=this.addComponent(e,t+i),this.funDragSlider(h))},this.setTextInput=function(){this.objJSON=this.getObjStr(),this.textJSON=JSON.stringify(this.objJSON),0==this.infoInt&&(r.textArea.text=this.textJSON)},this.getObjStr=function(){var t,i={};for(var e in r.oShablon)for(var h=0;h<r.oShablon[e].length;h++){t=!1;for(var s=0;s<this.arrType.length;s++)this.arrType[s]==e&&(t=!0);if(0==t){for(s=0;s<this.arrComp2.length;s++)if("PLParamObject"==this.arrComp2[s].type)for(var n in this.oP)this.oP[n]==this.arrComp2[s].param&&(i[n]=this.arrComp2[s].getObjStr())}else i[r.oShablon[e][h]]=r.oP[r.oShablon[e][h]]}return i},this.setObjStr=function(t){var i=JSON.parse(t);r.setObjStr2(i),r.korektObjParamMinMax(),r.funD&&r.funD()},this.setObjStr2=function(t){for(var i in t)if(null!=r.oP[i])if("object"===h(r.oP[i]))for(var e=0;e<this.arrComp2.length;e++)this.arrComp2[e].param==r.oP[i]&&this.arrComp2[e].setObjStr2(t[i]);else r.oP[i]=t[i],null!=r.objComp[i]&&(r.objComp[i].value=t[i]);this.korektObjParam()},this.korektObjParamMinMax=function(){if(null!=this.object&&null!=this.object.param)for(var t=0;t<this.arrComp2.length;t++)if(null!=this.object.param[this.arrComp2[t].param]&&"DSliderBig"==this.arrComp2[t].type){if(!1===slider.isDinamMinMax)return;this.omm=this.diapozon(this.oP[this.arrComp2[t].param]),this.arrComp2[t].min=this.omm.min,this.arrComp2[t].max=this.omm.max}r.korektObjParam()},this.componentS,this.funComplit=function(t){null==t&&(t=r.compFinal),this.component=this,r.componentS=t,r.funDragSlider(this),r.setTextInput(),r.fun&&r.fun(t)},this.funD,this.funDrag=function(){r.funD&&r.funD()},this.pointObject={min:0,max:100},this.arrayNum=[-1e7,-1e6,-1e5,-1e4,-5e3,-1e3,-500,-100,-50,-1,0,1,50,100,500,1e3,5e3,1e4,1e5,1e6,1e7];var u;this.diapozon=function(t){this.pointObject.min=0,this.pointObject.max=10;for(var i=1;i<this.arrayNum.length-1;i++)if(this.arrayNum[i]==t)return this.pointObject.min=this.arrayNum[i-1],this.pointObject.max=this.arrayNum[i+1],this.pointObject;for(i=1;i<this.arrayNum.length-1;i++)if(this.arrayNum[i-1]<t&&this.arrayNum[i]>t)return this.pointObject.min=this.arrayNum[i-1],this.pointObject.max=this.arrayNum[i],this.pointObject;return this.pointObject},this.omm,this.funDragSlider=function(t){if(t&&"DSliderBig"==t.type){if(!1===t.isDinamMinMax)return;0==t.visiMinMax&&(t.visiMinMax=!0),this.omm=this.diapozon(t.value),t.min=this.omm.min,t.max=this.omm.max,t.value=t.value}},this.addPrefix=function(t,i,e){if("string"==t&&null!=e&&e.length<9){if(-1!=e.toLowerCase().indexOf("#"))return"numbercolor";if(-1!=e.toLowerCase().indexOf("0x"))return"numbercolor"}return t},this.formComp=function(t,i,e,h){var s={name:t+i,param:e,title:e};"number"==t&&(this.omm=this.diapozon(this.oP[e]),s.max=this.omm.max,s.min=this.omm.min),u=!1;for(var n=0;n<this.arrType.length;n++)this.arrType[n]==t&&(u=!0);if(0==u){for(var o in this.oP)if(this.oP[o]==e){s.title=o,s.tipRide=!1;for(var r=0;r<this.typeArray.length;r++)null!=this.typeArray[r].tipRide&&e instanceof this.typeArray[r].type&&(s.tipRide=this.typeArray[r].tipRide),null!=this.typeArray[r].typeYesArray&&e instanceof this.typeArray[r].type&&(s.typeYesArray=this.typeArray[r].typeYesArray),null!=this.typeArray[r].typeNotArray&&e instanceof this.typeArray[r].type&&(s.typeNotArray=this.typeArray[r].typeNotArray)}}else for(var a=0;a<this.typeArray.length;a++)t==this.typeArray[a].name&&null!=this.typeArray[a].typeYesArray&&(s.typeYesArray=this.typeArray[a].typeYesArray);h.arrComp.push(s)},this.startToShablon=function(){this.omm=this.diapozon(100);var t,i={};if(i.arrComp=[],r.object=i,1==this._priorityType&&0==this._ignTypeArr&&null!=this.typeYesArray){for(var e in a=[],this.oShablon)for(var h=0;h<this.oShablon[e].length;h++){if(t="null","string"==typeof this.oShablon[e][h])t=this.oShablon[e][h];else for(var s in this.oP)this.oP[s]==this.oShablon[e][h]&&(t=s);a.push(this.oShablon[e][h],e,t)}for(var n=0;n<this.typeYesArray.length;n++){t=this.typeYesArray[n];for(h=0;h<a.length;h+=3)t==a[h+2]&&this.formComp(a[h+1],n,a[h+2],i);0}}else for(var o in this.oShablon)for(h=0;h<this.oShablon[o].length;h++)this.formComp(o,h,this.oShablon[o][h],i);if(null!=this.typeYesArray&&0==this._ignTypeArr){var a=[];for(h=0;h<this.typeYesArray.length;h++)for(var u=0;u<i.arrComp.length;u++)if(i.arrComp[u].param==this.typeYesArray[h]){a.push(i.arrComp[u]);break}i.arrComp=a}i.param=this.oP,i.fun=this.funDrag,i.funComplit=this.funComplit,null!=this.funKorektObj&&this.funKorektObj(i),this.setObj(i)},this.funWH=function(){this.w&&(this.w.width=this.width)},this.getObj=function(){};this.createIgnBtn=function(){this.ignBtn=new DButton(this.w,0,0,"+",function(){r.ignTypeArr=!r._ignTypeArr,1==r._ignTypeArr?this.text="-":this.text="+",r.funMinimize&&(r.w.minimize&&(r.w.minimize=!1),r.draw(),r._height=this.hhhhh,r.funMinimize())}),this.ignBtn.width=this.ignBtn.height=15,this.ignBtn.visible=this._actIgnBtn,this.ignBtn.y=7},1==this._actIgnBtn&&this.createIgnBtn(),this._heightWindow=100,this.updateScroll=function(){if(this.scrollPane&&this.isScroll){for(var t=this.finalHeight,i=0;i<this.arrComp2.length;i++)if(this.arrComp2[i].visible&&this.arrComp2[i].pLColorPickerPanel&&this.arrComp2[i].pLColorPickerPanel.visible){var e=this.arrComp2[i].y+this.arrComp2[i].pLColorPickerPanel.y+this.arrComp2[i].pLColorPickerPanel.height;e>t&&(t+=e-t);break}this.scrollPane.width=this._width,this.scrollPane.widthContent=this._width,this.scrollPane.height=this._heightWindow,this.scrollPane.heightContent=t,this.scrollPane.update(),this.hhhhh=r._heightWindow,r._height=this.hhhhh}},this.initScroll=function(){null!=this.w&&null==this.scrollPane&&(this.scrollPane=new ScrollPane(this.w.content,0,0),this.scrollPane.addContent(this.content),this.scrollPane.boolPositOtctup=!0,r.updateScroll())}}e.d(i,"a",function(){return s}),s.prototype.constructor=s,Object.defineProperties(s.prototype,{x:{set:function(t){this._x=t,this.w&&(this.w.x=this._x)},get:function(){return this._x}},y:{set:function(t){this._y=t,this.w&&(this.w.y=this._y)},get:function(){return this._y}},height:{set:function(t){},get:function(){return this._height}},heightWindow:{set:function(t){this._heightWindow=t,this.updateScroll()},get:function(){return this._heightWindow}},visible:{set:function(t){this._visible=t,this.w&&(this.w.visible=this._visible)},get:function(){return this._visible}},title:{set:function(t){this._title!=t&&(this._title=t,this.w&&(this.w.text=this._title))},get:function(){return this._title}},ignTypeArr:{set:function(t){this._ignTypeArr!=t&&(this._ignTypeArr=t,this.addObject(this.oP))},get:function(){return this._ignTypeArr}},actIgnBtn:{set:function(t){this._actIgnBtn!=t&&(this._actIgnBtn=t,this.ignBtn||this.createIgnBtn(),this.ignBtn.visible=this._actIgnBtn)},get:function(){return this._actIgnBtn}},priorityType:{set:function(t){this._priorityType!=t&&(this._priorityType=t,this.addObject(this.oP))},get:function(){return this._priorityType}},isScroll:{set:function(t){this._isScroll!=t&&(this._isScroll=t,this.initScroll())},get:function(){return this._isScroll}}})},function(t,i,e){"use strict";e.r(i),function(t){var h=e(0);e.d(i,"DCont",function(){return h.a});var s=e(1);e.d(i,"DCM",function(){return s.b}),e.d(i,"DButton",function(){return s.a}),e.d(i,"DPanel",function(){return s.h}),e.d(i,"DImage",function(){return s.e}),e.d(i,"DLabel",function(){return s.g}),e.d(i,"DSlider",function(){return s.k}),e.d(i,"DSliderBig",function(){return s.l}),e.d(i,"DInput",function(){return s.f}),e.d(i,"DTextArea",function(){return s.m}),e.d(i,"DCheckBox",function(){return s.c}),e.d(i,"DColor",function(){return s.d}),e.d(i,"DWindow",function(){return s.n}),e.d(i,"DScrollBarH",function(){return s.i}),e.d(i,"DScrollBarV",function(){return s.j});var n=e(4);e.d(i,"DSettings",function(){return n.a});var o=e(5);e.d(i,"DParamObject",function(){return o.a});var r=e(2);e.d(i,"DGallery",function(){return r.b}),e.d(i,"DBox",function(){return r.a});var a=e(3);e.d(i,"DButtonDrag",function(){return a.b}),e.d(i,"DAroundButton",function(){return a.a}),t.DButton=s.a,t.DPanel=s.h,t.DImage=s.e,t.DLabel=s.g,t.DSlider=s.k,t.DSliderBig=s.l,t.DInput=s.f,t.DTextArea=s.m,t.DCheckBox=s.c,t.DColor=s.d,t.DWindow=s.n,t.DScrollBarH=s.i,t.DScrollBarV=s.j,t.DButtonDrag=a.b,t.DAroundButton=a.a,t.DCM=s.b,t.DCont=h.a,t.DSettings=n.a,t.DParamObject=o.a,t.DGallery=r.b,t.DBox=r.a}.call(this,e(7))},function(t,i){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e}]);